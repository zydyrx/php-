<!DOCTYPE html>
<html>
<head>
    <title>05.ThinkPHP5.0-数据库基本操作</title>

    <meta charset="UTF-8"/>

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>

    <meta name="HandheldFriendly" content="true"/>

    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>

    <meta name="apple-mobile-web-app-capable" content="yes"/>

    <meta name="apple-mobile-web-app-status-bar-style" content="black"/>

    <link href="../asset/gitbook/style.css" type="text/css" rel="stylesheet"/>
    <link href="../asset/gitbook/istyle.css" type="text/css" rel="stylesheet"/>

    <style type="text/css">
        
            span.md_line{margin-bottom:0.5em; display:block; line-height:1.89}
            .md_line br{ display: none;}
            
    </style>

    <script>
        var flowchat_options = {
            'x': 0, 'y': 0, 'line-width': 1, 'line-length': 50, 'text-margin': 10, 'font-size': 13,
            'font-color': '#3c3c3c', 'line-color': '#666666', 'element-color': '#666666', 'fill': 'transparent',
            'yes-text': 'yes', 'no-text': 'no', 'arrow-end': 'block', 'class': 'flowchart', 'scale': 1,
            'symbols': { 'start': {}, 'end': {}, 'condition': {}, 'inputoutput': {}, 'operation': {}, 'subroutine': {}}
        }
    </script>
    <script type="text/javascript" src="../asset/other/raphael-min.js"></script>
    <script type="text/javascript" src="../asset/other/flowchart.js"></script>
    <script type="text/javascript" src="../asset/other/echarts.min.js"></script>


</head>

<body>





<div data-basepath="/service/gitbook" class="book">
    <div class="book-summary">
        <ul class="summary">
            <li>
                <a href="../index.html">php笔记2018</a>
            </li>
            <li class="divider"></li>
            
                
                
    
    <li data-level="1" class="chapter" data-path="001.第一章 环境配置.html">
        
        
        <a href="../001.第一章 环境配置.html" ><b>1</b> 第一章:环境配置</a>
        
            
                    
                
        
    </li>

            
                
                
    
    <li data-level="2" class="chapter" data-path="002.开发工具介绍与配置.html">
        
        
        <a href="../002.开发工具介绍与配置.html" ><b>2</b> 开发工具介绍与配置</a>
        
            
                    
                
        
    </li>

            
                
                
    
    <li data-level="3" class="chapter" data-path="003.PHP基础语法.html">
        
        
        <a href="../003.PHP基础语法.html" ><b>3</b> 03.PHP基础语法</a>
        
            
                    
                
        
    </li>

            
                
                
    
    <li data-level="4" class="chapter" data-path="004.变量.html">
        
        
        <a href="../004.变量.html" ><b>4</b> 04.变量</a>
        
            
                    
                
        
    </li>

            
                
                
    
    <li data-level="5" class="chapter" data-path="005.数据类型.html">
        
        
        <a href="../005.数据类型.html" ><b>5</b> 05.数据类型</a>
        
            
                    
                
        
    </li>

            
                
                
    
    <li data-level="6" class="chapter" data-path="006.数据类型转换.html">
        
        
        <a href="../006.数据类型转换.html" ><b>6</b> 06.数据类型转换</a>
        
            
                    
                
        
    </li>

            
                
                
    
    <li data-level="7" class="chapter" data-path="007.变量与数据类型常用函数.html">
        
        
        <a href="../007.变量与数据类型常用函数.html" ><b>7</b> 07.变量与数据类型常用函数</a>
        
            
                    
                
        
    </li>

            
                
                
    
    <li data-level="8" class="chapter" data-path="008.常量.html">
        
        
        <a href="../008.常量.html" ><b>8</b> 008.常量</a>
        
            
                    
                
        
    </li>

            
                
                
    
    <li data-level="9" class="chapter" data-path="009.运算符.html">
        
        
        <a href="../009.运算符.html" ><b>9</b> 09.运算符</a>
        
            
                    
                
        
    </li>

            
                
                
    
    <li data-level="10" class="chapter" data-path="010.条件结构.html">
        
        
        <a href="../010.条件结构.html" ><b>10</b> 10.条件结构</a>
        
            
                    
                
        
    </li>

            
                
                
    
    <li data-level="11" class="chapter" data-path="011.循环结构及特殊流程.html">
        
        
        <a href="../011.循环结构及特殊流程.html" ><b>11</b> 11.循环结构及特殊流程</a>
        
            
                    
                
        
    </li>

            
                
                
    
    <li data-level="12" class="chapter" data-path="012.开启PHP的XDebug或zend_debugger配合Hbuilder进行断点调试.html">
        
        
        <a href="../012.开启PHP的XDebug或zend_debugger配合Hbuilder进行断点调试.html" ><b>12</b> 12.开启PHP的XDebug或zend_debugger配合Hbuilder进行断点调试</a>
        
            
                    
                
        
    </li>

            
                
                
    
    <li data-level="13" class="chapter" data-path="013.数组.html">
        
        
        <a href="../013.数组.html" ><b>13</b> 13.数组</a>
        
            
                    
                
        
    </li>

            
                
                
    
    <li data-level="14" class="chapter" data-path="014.九大超全局数组.html">
        
        
        <a href="../014.九大超全局数组.html" ><b>14</b> 14.九大超全局数组</a>
        
            
                    
                
        
    </li>

            
                
                
    
    <li data-level="15" class="chapter" data-path="015.函数.html">
        
        
        <a href="../015.函数.html" ><b>15</b> 15.函数</a>
        
            
                    
                
        
    </li>

            
                
                
    
    <li data-level="16" class="chapter" data-path="016.常用函数.html">
        
        
        <a href="../016.常用函数.html" ><b>16</b> 16.常用函数</a>
        
            
                    
                
        
    </li>

            
                
                
    
    <li data-level="17" class="chapter" data-path="017.面向对象.html">
        
        
        <a href="../017.面向对象.html" ><b>17</b> 17.面向对象</a>
        
            
                    
                
        
    </li>

            
                
                
    
    <li data-level="18" class="chapter" data-path="018.Trait.html">
        
        
        <a href="../018.Trait.html" ><b>18</b> 18.Trait</a>
        
            
                    
                
        
    </li>

            
                
                
    
    <li data-level="19" class="chapter" data-path="019.namespace命名空间.html">
        
        
        <a href="../019.namespace命名空间.html" ><b>19</b> 19.namespace命名空间</a>
        
            
                    
                
        
    </li>

            
                
                
    
    <li data-level="20" class="chapter" data-path="020.自定义分页类.html">
        
        
        <a href="../020.自定义分页类.html" ><b>20</b> 020.自定义分页类</a>
        
            
                    
                
        
    </li>

            
                
                
    
    <li data-level="21" class="chapter" data-path="021.PHP操作数据库.html">
        
        
        <a href="../021.PHP操作数据库.html" ><b>21</b> 021.PHP操作数据库</a>
        
            
                    
                
        
    </li>

            
                
                
    
    <li data-level="22" class="chapter" data-path="022.错误报告级别设置及自定义处理函数.html">
        
        
        <a href="../022.错误报告级别设置及自定义处理函数.html" ><b>22</b> 022.错误报告级别设置及自定义处理函数</a>
        
            
                    
                
        
    </li>

            
                
                
    
    <li data-level="23" class="chapter" data-path="023.异常处理类 Exception.html">
        
        
        <a href="../023.异常处理类 Exception.html" ><b>23</b> 23.异常处理类 Exception</a>
        
            
                    
                
        
    </li>

            
                
                
    
    <li data-level="24" class="chapter" data-path="024.文件系统.html">
        
        
        <a href="../024.文件系统.html" ><b>24</b> 24.文件系统</a>
        
            
                    
                
        
    </li>

            
                
                
    
    <li data-level="25" class="chapter" data-path="025.文件的上传与下载.html">
        
        
        <a href="../025.文件的上传与下载.html" ><b>25</b> 025.文件的上传与下载</a>
        
            
                    
                
        
    </li>

            
                
                
    
    <li data-level="26" class="chapter" data-path="026.GD库的使用-图片处理及验证码.html">
        
        
        <a href="../026.GD库的使用-图片处理及验证码.html" ><b>26</b> 026.GD库的使用-图片处理及验证码</a>
        
            
                    
                
        
    </li>

            
                
                
    
    <li data-level="27" class="chapter" data-path="027.版本控制-SVN.html">
        
        
        <a href="../027.版本控制-SVN.html" ><b>27</b> 027.版本控制-SVN</a>
        
            
                    
                
        
    </li>

            
                
                
    
    <li data-level="28" class="chapter" data-path="028.版本控制-GIT.html">
        
        
        <a href="../028.版本控制-GIT.html" ><b>28</b> 028.版本控制-GIT</a>
        
            
                    
                
        
    </li>

            
                
                
    
    <li data-level="29" class="chapter" data-path="029.日期与时间.html">
        
        
        <a href="../029.日期与时间.html" ><b>29</b> 029.日期与时间</a>
        
            
                    
                
        
    </li>

            
                
                
    
    <li data-level="30" class="chapter" data-path="030.PHP字符串处理与正则表达式.html">
        
        
        <a href="../030.PHP字符串处理与正则表达式.html" ><b>30</b> 30.PHP字符串处理与正则表达式</a>
        
            
                    
                
        
    </li>

            
                
                
    
    <li data-level="31" class="chapter" data-path="031.XML操作.html">
        
        
        <a href="../031.XML操作.html" ><b>31</b> 032.XML操作</a>
        
            
                    
                
        
    </li>

            
                
                
    
    <li data-level="32" class="chapter" data-path="032.邮件与短信发送.html">
        
        
        <a href="../032.邮件与短信发送.html" ><b>32</b> 031.邮件与短信发送</a>
        
            
                    
                
        
    </li>

            
                
                
    
    <li data-level="33" class="chapter" data-path="033.在线支付.html">
        
        
        <a href="../033.在线支付.html" ><b>33</b> 033.在线支付</a>
        
            
                    
                
        
    </li>

            
                
                
    
    <li data-level="34" class="chapter" data-path="034.HTML协议.html">
        
        
        <a href="../034.HTML协议.html" ><b>34</b> 033.HTML协议</a>
        
            
                    
                
        
    </li>

            
                
                
    
    <li data-level="35" class="chapter" data-path="035.会话控制之-Cookei.html">
        
        
        <a href="../035.会话控制之-Cookei.html" ><b>35</b> 034.会话控制之-Cookei</a>
        
            
                    
                
        
    </li>

            
                
                
    
    <li data-level="36" class="chapter" data-path="036.会话控制之-Session.html">
        
        
        <a href="../036.会话控制之-Session.html" ><b>36</b> 035.会话控制之-Session</a>
        
            
                    
                
        
    </li>

            
                
                
    
    <li data-level="37" class="chapter" data-path="037.缓存之-Memcache.html">
        
        
        <a href="../037.缓存之-Memcache.html" ><b>37</b> 036.缓存之-Memcache</a>
        
            
                    
                
        
    </li>

            
                
                
    
    <li data-level="38" class="chapter" data-path="038.redis01-下载安装启动.html">
        
        
        <a href="../038.redis01-下载安装启动.html" ><b>38</b> 041.redis01-下载安装启动</a>
        
            
                    
                
        
    </li>

            
                
                
    
    <li data-level="39" class="chapter" data-path="038.redis02-对于KEY的操作命令(公共命令).html">
        
        
        <a href="../038.redis02-对于KEY的操作命令(公共命令).html" ><b>39</b> 042.redis-对于KEY的操作命令(公共命令)</a>
        
            
                    
                
        
    </li>

            
                
                
    
    <li data-level="40" class="chapter" data-path="038.redis03-字符串类型的操作.html">
        
        
        <a href="../038.redis03-字符串类型的操作.html" ><b>40</b> 043.Redis字符串类型的操作</a>
        
            
                    
                
        
    </li>

            
                
                
    
    <li data-level="41" class="chapter" data-path="038.redis04-link链表结构(列表list).html">
        
        
        <a href="../038.redis04-link链表结构(列表list).html" ><b>41</b> 044.redis-link链表结构(就像自动整理索引值的索引数组. 下标 到 len-1)</a>
        
            
                    
                
        
    </li>

            
                
                
    
    <li data-level="42" class="chapter" data-path="038.redis05-set无序集合.html">
        
        
        <a href="../038.redis05-set无序集合.html" ><b>42</b> 045.redis-set无序集合</a>
        
            
                    
                
        
    </li>

            
                
                
    
    <li data-level="43" class="chapter" data-path="039.配置Apache2.4+PHP7.3+多站点.html">
        
        
        <a href="../039.配置Apache2.4+PHP7.3+多站点.html" ><b>43</b> 039.配置Apache2.4+PHP7.3+多站点</a>
        
            
                    
                
        
    </li>

            
                
                
    
    <li data-level="44" class="chapter" data-path="MySQL笔记/index.html">
        
        
        <a href="#" ><b>44</b> MySQL笔记</a>
        
            
                    
                        <ul class="articles">
                            
                                
    
    <li data-level="44.1" class="chapter" data-path="MySQL笔记/01.MySQL的下载与安装.html">
        
        
        <a href="../MySQL笔记/01.MySQL的下载与安装.html" ><b>44.1</b> 01.MySQL的下载与安装配置</a>
        
    </li>

                            
                                
    
    <li data-level="44.2" class="chapter" data-path="MySQL笔记/02.MySQL配置-DOS管理工具登陆与退出.html">
        
        
        <a href="../MySQL笔记/02.MySQL配置-DOS管理工具登陆与退出.html" ><b>44.2</b> 02.MySQL配置-DOS管理工具登陆与退出</a>
        
    </li>

                            
                                
    
    <li data-level="44.3" class="chapter" data-path="MySQL笔记/03.数据库操作-语句规范与常用命令.html">
        
        
        <a href="../MySQL笔记/03.数据库操作-语句规范与常用命令.html" ><b>44.3</b> mysql语句规范与常用命令</a>
        
    </li>

                            
                                
    
    <li data-level="44.4" class="chapter" data-path="MySQL笔记/04.数据表操作.html">
        
        
        <a href="../MySQL笔记/04.数据表操作.html" ><b>44.4</b> 数据表操作</a>
        
    </li>

                            
                                
    
    <li data-level="44.5" class="chapter" data-path="MySQL笔记/05.数据操作-增删改.html">
        
        
        <a href="../MySQL笔记/05.数据操作-增删改.html" ><b>44.5</b> 05.数据操作-增删改</a>
        
    </li>

                            
                                
    
    <li data-level="44.6" class="chapter" data-path="MySQL笔记/06.数据操作 简单查询.html">
        
        
        <a href="../MySQL笔记/06.数据操作 简单查询.html" ><b>44.6</b> 06.数据操作 简单查询</a>
        
    </li>

                            
                                
    
    <li data-level="44.7" class="chapter" data-path="MySQL笔记/07.高级查询-排序 多表联合 聚合与分组 限制条数.html">
        
        
        <a href="../MySQL笔记/07.高级查询-排序 多表联合 聚合与分组 限制条数.html" ><b>44.7</b> 07.高级查询-排序 多表联合 聚合与分组 限制条数</a>
        
    </li>

                            
                                
    
    <li data-level="44.8" class="chapter" data-path="MySQL笔记/08.多表连接查询.html">
        
        
        <a href="../MySQL笔记/08.多表连接查询.html" ><b>44.8</b> 08.多表连接查询</a>
        
    </li>

                            
                                
    
    <li data-level="44.9" class="chapter" data-path="MySQL笔记/09.子查询 ANY ALL [NOT] IN [NOT]EXISTS.html">
        
        
        <a href="../MySQL笔记/09.子查询 ANY ALL [NOT] IN [NOT]EXISTS.html" ><b>44.9</b> 09.子查询 ANY ALL [NOT] IN [NOT]EXISTS</a>
        
    </li>

                            
                        </ul>
                    
                
        
    </li>

            
                
                
    
    <li data-level="45" class="chapter" data-path="ThinkPHP3.1.2笔记/index.html">
        
        
        <a href="#" ><b>45</b> ThinkPHP3.1.2笔记</a>
        
            
                    
                        <ul class="articles">
                            
                                
    
    <li data-level="45.1" class="chapter" data-path="ThinkPHP3.1.2笔记/01_ThinkPHP3.1.2介绍及安装.html">
        
        
        <a href="../ThinkPHP3.1.2笔记/01_ThinkPHP3.1.2介绍及安装.html" ><b>45.1</b> ThinkPHP3.1.2介绍及安装</a>
        
    </li>

                            
                                
    
    <li data-level="45.2" class="chapter" data-path="ThinkPHP3.1.2笔记/02_ThinkPHP3.1.2MVC模式和URL访问.html">
        
        
        <a href="../ThinkPHP3.1.2笔记/02_ThinkPHP3.1.2MVC模式和URL访问.html" ><b>45.2</b> ThinkPHP 3.1.2 MVC模式和URL访问</a>
        
    </li>

                            
                                
    
    <li data-level="45.3" class="chapter" data-path="ThinkPHP3.1.2笔记/03_ThinkPHP3.1.2输出和模型使用.html">
        
        
        <a href="../ThinkPHP3.1.2笔记/03_ThinkPHP3.1.2输出和模型使用.html" ><b>45.3</b> ThinkPHP 3.1.2 输出和模型使用</a>
        
    </li>

                            
                                
    
    <li data-level="45.4" class="chapter" data-path="ThinkPHP3.1.2笔记/04_ThinkPHP3.1.2_CURD特性.html">
        
        
        <a href="../ThinkPHP3.1.2笔记/04_ThinkPHP3.1.2_CURD特性.html" ><b>45.4</b> ThinkPHP中CURD特性</a>
        
    </li>

                            
                                
    
    <li data-level="45.5" class="chapter" data-path="ThinkPHP3.1.2笔记/05_ThinkPHP3.1.2_CURD实例.html">
        
        
        <a href="../ThinkPHP3.1.2笔记/05_ThinkPHP3.1.2_CURD实例.html" ><b>45.5</b> ThinkPHP_CURD实例,操作数据</a>
        
    </li>

                            
                                
    
    <li data-level="45.6" class="chapter" data-path="ThinkPHP3.1.2笔记/06_ThinkPHP3.1.2_查询方式的一般使用.html">
        
        
        <a href="../ThinkPHP3.1.2笔记/06_ThinkPHP3.1.2_查询方式的一般使用.html" ><b>45.6</b> 查询方式的一般使用</a>
        
    </li>

                            
                                
    
    <li data-level="45.7" class="chapter" data-path="ThinkPHP3.1.2笔记/07_ThinkPHP3.1.2_查询方式实例.html">
        
        
        <a href="../ThinkPHP3.1.2笔记/07_ThinkPHP3.1.2_查询方式实例.html" ><b>45.7</b> 07_ThinkPHP3.1.2_查询方式实例</a>
        
    </li>

                            
                                
    
    <li data-level="45.8" class="chapter" data-path="ThinkPHP3.1.2笔记/08_ThinkPHP3.2.1_连惯操作.html">
        
        
        <a href="../ThinkPHP3.1.2笔记/08_ThinkPHP3.2.1_连惯操作.html" ><b>45.8</b> 08_ThinkPHP3.1.2_连惯操作</a>
        
    </li>

                            
                                
    
    <li data-level="45.9" class="chapter" data-path="ThinkPHP3.1.2笔记/09_ThinkPHP3.1.2_视图.html">
        
        
        <a href="../ThinkPHP3.1.2笔记/09_ThinkPHP3.1.2_视图.html" ><b>45.9</b> 视图</a>
        
    </li>

                            
                                
    
    <li data-level="45.10" class="chapter" data-path="ThinkPHP3.1.2笔记/10_ThinkPHP3.1.2_视图实例_用户登陆.html">
        
        
        <a href="../ThinkPHP3.1.2笔记/10_ThinkPHP3.1.2_视图实例_用户登陆.html" ><b>45.10</b> 视图实例_用户登陆</a>
        
    </li>

                            
                                
    
    <li data-level="45.11" class="chapter" data-path="ThinkPHP3.1.2笔记/11_ThinkPHP3.1.2_模板变量详解.html">
        
        
        <a href="../ThinkPHP3.1.2笔记/11_ThinkPHP3.1.2_模板变量详解.html" ><b>45.11</b> 模板变量详解</a>
        
    </li>

                            
                                
    
    <li data-level="45.12" class="chapter" data-path="ThinkPHP3.1.2笔记/12_ThinkPHP3.1.2_模板中的语法知识.html">
        
        
        <a href="../ThinkPHP3.1.2笔记/12_ThinkPHP3.1.2_模板中的语法知识.html" ><b>45.12</b> 模板中的语法知识</a>
        
    </li>

                            
                                
    
    <li data-level="45.13" class="chapter" data-path="ThinkPHP3.1.2笔记/13_ThinkPHP3.1.2_模板的使用技巧.html">
        
        
        <a href="../ThinkPHP3.1.2笔记/13_ThinkPHP3.1.2_模板的使用技巧.html" ><b>45.13</b> 模板的使用技巧</a>
        
    </li>

                            
                                
    
    <li data-level="45.14" class="chapter" data-path="ThinkPHP3.1.2笔记/配置项.html">
        
        
        <a href="../ThinkPHP3.1.2笔记/配置项.html" ><b>45.14</b> 配置项</a>
        
    </li>

                            
                        </ul>
                    
                
        
    </li>

            
                
                
    
    <li data-level="46" class="chapter" data-path="bootstrap笔记/index.html">
        
        
        <a href="#" ><b>46</b> bootstrap笔记</a>
        
            
                    
                        <ul class="articles">
                            
                                
    
    <li data-level="46.1" class="chapter" data-path="bootstrap笔记/01. Bootstrap 介绍.html">
        
        
        <a href="../bootstrap笔记/01. Bootstrap 介绍.html" ><b>46.1</b> 01. Bootstrap 介绍</a>
        
    </li>

                            
                                
    
    <li data-level="46.2" class="chapter" data-path="bootstrap笔记/02. Bootstrap 排版样式.html">
        
        
        <a href="../bootstrap笔记/02. Bootstrap 排版样式.html" ><b>46.2</b> Bootstrap 排版样式</a>
        
    </li>

                            
                                
    
    <li data-level="46.3" class="chapter" data-path="bootstrap笔记/03. Bootstrap 表格和按钮.html">
        
        
        <a href="../bootstrap笔记/03. Bootstrap 表格和按钮.html" ><b>46.3</b> 03. Bootstrap 表格和按钮</a>
        
    </li>

                            
                                
    
    <li data-level="46.4" class="chapter" data-path="bootstrap笔记/04. Bootstrap 栅格系统.html">
        
        
        <a href="../bootstrap笔记/04. Bootstrap 栅格系统.html" ><b>46.4</b> Bootstrap 栅格系统</a>
        
    </li>

                            
                                
    
    <li data-level="46.5" class="chapter" data-path="bootstrap笔记/05.  Bootstrap 表单和图片.html">
        
        
        <a href="../bootstrap笔记/05.  Bootstrap 表单和图片.html" ><b>46.5</b> 04.  Bootstrap 表单和图片</a>
        
    </li>

                            
                                
    
    <li data-level="46.6" class="chapter" data-path="bootstrap笔记/06. 辅组类和响应式工具.html">
        
        
        <a href="../bootstrap笔记/06. 辅组类和响应式工具.html" ><b>46.6</b> 辅组类和响应式工具</a>
        
    </li>

                            
                                
    
    <li data-level="46.7" class="chapter" data-path="bootstrap笔记/07. 图标菜单按钮组件.html">
        
        
        <a href="../bootstrap笔记/07. 图标菜单按钮组件.html" ><b>46.7</b> 图标菜单按钮组件</a>
        
    </li>

                            
                                
    
    <li data-level="46.8" class="chapter" data-path="bootstrap笔记/08. 输入框和导航组件.html">
        
        
        <a href="../bootstrap笔记/08. 输入框和导航组件.html" ><b>46.8</b> 输入框和导航组件</a>
        
    </li>

                            
                                
    
    <li data-level="46.9" class="chapter" data-path="bootstrap笔记/09. 路径分页标签和徽章组件.html">
        
        
        <a href="../bootstrap笔记/09. 路径分页标签和徽章组件.html" ><b>46.9</b> 路径分页标签和徽章组件</a>
        
    </li>

                            
                                
    
    <li data-level="46.10" class="chapter" data-path="bootstrap笔记/10. 巨幕页头缩略图和警告框组件.html">
        
        
        <a href="../bootstrap笔记/10. 巨幕页头缩略图和警告框组件.html" ><b>46.10</b> 巨幕页头缩略图和警告框组件</a>
        
    </li>

                            
                                
    
    <li data-level="46.11" class="chapter" data-path="bootstrap笔记/11. 进度条媒体对象和Well组件.html">
        
        
        <a href="../bootstrap笔记/11. 进度条媒体对象和Well组件.html" ><b>46.11</b> 进度条媒体对象和Well组件</a>
        
    </li>

                            
                                
    
    <li data-level="46.12" class="chapter" data-path="bootstrap笔记/12. 列表组面板和嵌入组件.html">
        
        
        <a href="../bootstrap笔记/12. 列表组面板和嵌入组件.html" ><b>46.12</b> 列表组面板和嵌入组件</a>
        
    </li>

                            
                                
    
    <li data-level="46.13" class="chapter" data-path="bootstrap笔记/13. 模态框插件.html">
        
        
        <a href="../bootstrap笔记/13. 模态框插件.html" ><b>46.13</b> 模态框插件</a>
        
    </li>

                            
                                
    
    <li data-level="46.14" class="chapter" data-path="bootstrap笔记/14. 下拉菜单和滚动监听插件.html">
        
        
        <a href="../bootstrap笔记/14. 下拉菜单和滚动监听插件.html" ><b>46.14</b> 下拉菜单和滚动监听插件</a>
        
    </li>

                            
                                
    
    <li data-level="46.15" class="chapter" data-path="bootstrap笔记/15. 标签页和工具提示插件.html">
        
        
        <a href="../bootstrap笔记/15. 标签页和工具提示插件.html" ><b>46.15</b> 标签页和工具提示插件</a>
        
    </li>

                            
                                
    
    <li data-level="46.16" class="chapter" data-path="bootstrap笔记/16. 弹出框和警告框插件.html">
        
        
        <a href="../bootstrap笔记/16. 弹出框和警告框插件.html" ><b>46.16</b> 弹出框和警告框插件</a>
        
    </li>

                            
                                
    
    <li data-level="46.17" class="chapter" data-path="bootstrap笔记/17. 按钮和折叠插件.html">
        
        
        <a href="../bootstrap笔记/17. 按钮和折叠插件.html" ><b>46.17</b> 按钮和折叠插件</a>
        
    </li>

                            
                                
    
    <li data-level="46.18" class="chapter" data-path="bootstrap笔记/18. 轮播插件.html">
        
        
        <a href="../bootstrap笔记/18. 轮播插件.html" ><b>46.18</b> 轮播插件</a>
        
    </li>

                            
                                
    
    <li data-level="46.19" class="chapter" data-path="bootstrap笔记/19. 附加导航插件.html">
        
        
        <a href="../bootstrap笔记/19. 附加导航插件.html" ><b>46.19</b> 附加导航插件</a>
        
    </li>

                            
                        </ul>
                    
                
        
    </li>

            
                
                
    
    <li data-level="47" class="chapter" data-path="es6/index.html">
        
        
        <a href="#" ><b>47</b> es6</a>
        
            
                    
                        <ul class="articles">
                            
                                
    
    <li data-level="47.1" class="chapter" data-path="es6/01-项目目录创建.html">
        
        
        <a href="../es6/01-项目目录创建.html" ><b>47.1</b> 01-项目目录创建</a>
        
    </li>

                            
                        </ul>
                    
                
        
    </li>

            
                
                
    
    <li data-level="48" class="chapter" data-path="jquery笔记/index.html">
        
        
        <a href="#" ><b>48</b> jquery笔记</a>
        
            
                    
                        <ul class="articles">
                            
                                
    
    <li data-level="48.1" class="chapter" data-path="jquery笔记/16.14 jQuery-UI 知问前端--cookie 插件.html">
        
        
        <a href="../jquery笔记/16.14 jQuery-UI 知问前端--cookie 插件.html" ><b>48.1</b> jQuery-UI 知问前端--cookie 插件</a>
        
    </li>

                            
                                
    
    <li data-level="48.2" class="chapter" data-path="jquery笔记/01.JQUERY入门.html">
        
        
        <a href="../jquery笔记/01.JQUERY入门.html" ><b>48.2</b> 01.JQUERY入门</a>
        
    </li>

                            
                                
    
    <li data-level="48.3" class="chapter" data-path="jquery笔记/02.jQuery基础核心.html">
        
        
        <a href="../jquery笔记/02.jQuery基础核心.html" ><b>48.3</b> 02.jQuery基础核心</a>
        
    </li>

                            
                                
    
    <li data-level="48.4" class="chapter" data-path="jquery笔记/03.jQuery常规选择器.html">
        
        
        <a href="../jquery笔记/03.jQuery常规选择器.html" ><b>48.4</b> 03.jQuery常规选择器</a>
        
    </li>

                            
                                
    
    <li data-level="48.5" class="chapter" data-path="jquery笔记/04.jQuery过滤选择器.html">
        
        
        <a href="../jquery笔记/04.jQuery过滤选择器.html" ><b>48.5</b> 04.jQuery过滤选择器</a>
        
    </li>

                            
                                
    
    <li data-level="48.6" class="chapter" data-path="jquery笔记/05.jQuery基础DOM和CSS操作.html">
        
        
        <a href="../jquery笔记/05.jQuery基础DOM和CSS操作.html" ><b>48.6</b> 05. 基础DOM和CSS操作</a>
        
    </li>

                            
                                
    
    <li data-level="48.7" class="chapter" data-path="jquery笔记/06.jQuery DOM节点操作.html">
        
        
        <a href="../jquery笔记/06.jQuery DOM节点操作.html" ><b>48.7</b> 06.jQuery DOM节点操作</a>
        
    </li>

                            
                                
    
    <li data-level="48.8" class="chapter" data-path="jquery笔记/07. jQuery表单选择器.html">
        
        
        <a href="../jquery笔记/07. jQuery表单选择器.html" ><b>48.8</b> 07. jQuery表单选择器</a>
        
    </li>

                            
                                
    
    <li data-level="48.9" class="chapter" data-path="jquery笔记/08. jQuery基础事件.html">
        
        
        <a href="../jquery笔记/08. jQuery基础事件.html" ><b>48.9</b> jQuery基础事件</a>
        
    </li>

                            
                                
    
    <li data-level="48.10" class="chapter" data-path="jquery笔记/09. jQuery事件对象.html">
        
        
        <a href="../jquery笔记/09. jQuery事件对象.html" ><b>48.10</b> 09. jQuery事件对象</a>
        
    </li>

                            
                                
    
    <li data-level="48.11" class="chapter" data-path="jquery笔记/10. jQuery高级事件.html">
        
        
        <a href="../jquery笔记/10. jQuery高级事件.html" ><b>48.11</b> 10. jQuery高级事件</a>
        
    </li>

                            
                                
    
    <li data-level="48.12" class="chapter" data-path="jquery笔记/11.jQuery动画效果.html">
        
        
        <a href="../jquery笔记/11.jQuery动画效果.html" ><b>48.12</b> 11.jQuery动画效果</a>
        
    </li>

                            
                                
    
    <li data-level="48.13" class="chapter" data-path="jquery笔记/12.jQuery-Ajax.html">
        
        
        <a href="../jquery笔记/12.jQuery-Ajax.html" ><b>48.13</b> 12.jQuery-Ajax</a>
        
    </li>

                            
                                
    
    <li data-level="48.14" class="chapter" data-path="jquery笔记/13. jQuery-Ajax 进阶.html">
        
        
        <a href="../jquery笔记/13. jQuery-Ajax 进阶.html" ><b>48.14</b> 13. jQuery-Ajax 进阶</a>
        
    </li>

                            
                                
    
    <li data-level="48.15" class="chapter" data-path="jquery笔记/14. jQquery工具函数.html">
        
        
        <a href="../jquery笔记/14. jQquery工具函数.html" ><b>48.15</b> 14. jQquery工具函数</a>
        
    </li>

                            
                                
    
    <li data-level="48.16" class="chapter" data-path="jquery笔记/15. jQuery 插件.html">
        
        
        <a href="../jquery笔记/15. jQuery 插件.html" ><b>48.16</b> 15. jQuery 插件</a>
        
    </li>

                            
                                
    
    <li data-level="48.17" class="chapter" data-path="jquery笔记/16. 01  jQuery-UI 知问前端概述 .html">
        
        
        <a href="../jquery笔记/16. 01  jQuery-UI 知问前端概述 .html" ><b>48.17</b> jQuery-UI 概述及下载安装</a>
        
    </li>

                            
                                
    
    <li data-level="48.18" class="chapter" data-path="jquery笔记/16. 02 jQuery-UI 知问前端--创建 header 区.html">
        
        
        <a href="../jquery笔记/16. 02 jQuery-UI 知问前端--创建 header 区.html" ><b>48.18</b> jQuery-UI 知问前端--创建 header 区</a>
        
    </li>

                            
                                
    
    <li data-level="48.19" class="chapter" data-path="jquery笔记/16. 03jQuery-UI 知问前端--对话框UI.html">
        
        
        <a href="../jquery笔记/16. 03jQuery-UI 知问前端--对话框UI.html" ><b>48.19</b> jQuery-UI 知问前端--对话框UI</a>
        
    </li>

                            
                                
    
    <li data-level="48.20" class="chapter" data-path="jquery笔记/16. 04 jQuery-UI 知问前端 - 按钮UI.html">
        
        
        <a href="../jquery笔记/16. 04 jQuery-UI 知问前端 - 按钮UI.html" ><b>48.20</b> jQuery-UI 知问前端 - 按钮UI</a>
        
    </li>

                            
                                
    
    <li data-level="48.21" class="chapter" data-path="jquery笔记/16. 05 jQuery-UI 知问前端--创建注册表单.html">
        
        
        <a href="../jquery笔记/16. 05 jQuery-UI 知问前端--创建注册表单.html" ><b>48.21</b> jQuery-UI 知问前端--创建注册表单</a>
        
    </li>

                            
                                
    
    <li data-level="48.22" class="chapter" data-path="jquery笔记/16. 06 jQuery-UI 知问前端--工具提示 UI.html">
        
        
        <a href="../jquery笔记/16. 06 jQuery-UI 知问前端--工具提示 UI.html" ><b>48.22</b> jQuery-UI 知问前端--工具提示 UI</a>
        
    </li>

                            
                                
    
    <li data-level="48.23" class="chapter" data-path="jquery笔记/16. 07 jQuery-UI 知问前端 - 自动补全UI.html">
        
        
        <a href="../jquery笔记/16. 07 jQuery-UI 知问前端 - 自动补全UI.html" ><b>48.23</b> jQuery-UI 知问前端 - 自动补全UI</a>
        
    </li>

                            
                                
    
    <li data-level="48.24" class="chapter" data-path="jquery笔记/16. 08 jQuery-UI 知问前端--邮箱自动补全.html">
        
        
        <a href="../jquery笔记/16. 08 jQuery-UI 知问前端--邮箱自动补全.html" ><b>48.24</b> jQuery-UI 知问前端--邮箱自动补全</a>
        
    </li>

                            
                                
    
    <li data-level="48.25" class="chapter" data-path="jquery笔记/16. 09 jQuery-UI 知问前端--日历UI.html">
        
        
        <a href="../jquery笔记/16. 09 jQuery-UI 知问前端--日历UI.html" ><b>48.25</b> 16. 09 jQuery-UI 知问前端--日历UI</a>
        
    </li>

                            
                                
    
    <li data-level="48.26" class="chapter" data-path="jquery笔记/16. 10 jQuery-UI 知问前端--验证插件.html">
        
        
        <a href="../jquery笔记/16. 10 jQuery-UI 知问前端--验证插件.html" ><b>48.26</b> jQuery-UI 知问前端--验证插件</a>
        
    </li>

                            
                                
    
    <li data-level="48.27" class="chapter" data-path="jquery笔记/16. 11 jQuery-UI 知问前端--验证注册表单.html">
        
        
        <a href="../jquery笔记/16. 11 jQuery-UI 知问前端--验证注册表单.html" ><b>48.27</b> jQuery-UI 知问前端--验证注册表单</a>
        
    </li>

                            
                                
    
    <li data-level="48.28" class="chapter" data-path="jquery笔记/16. 12 jQuery-UI 知问前端--Ajax 表单插件.html">
        
        
        <a href="../jquery笔记/16. 12 jQuery-UI 知问前端--Ajax 表单插件.html" ><b>48.28</b> jQuery-UI 知问前端--Ajax 表单插件</a>
        
    </li>

                            
                                
    
    <li data-level="48.29" class="chapter" data-path="jquery笔记/16. 13 jQuery-UI 知问前端--Ajax 提交表单.html">
        
        
        <a href="../jquery笔记/16. 13 jQuery-UI 知问前端--Ajax 提交表单.html" ><b>48.29</b> jQuery-UI 知问前端--Ajax 提交表单</a>
        
    </li>

                            
                                
    
    <li data-level="48.30" class="chapter" data-path="jquery笔记/16. 14 jQuery-UI 知问前端--cookie 插件.html">
        
        
        <a href="../jquery笔记/16. 14 jQuery-UI 知问前端--cookie 插件.html" ><b>48.30</b> jQuery-UI 知问前端--cookie 插件</a>
        
    </li>

                            
                                
    
    <li data-level="48.31" class="chapter" data-path="jquery笔记/16. 15 jQuery-UI 知问前端--Ajax 登录.html">
        
        
        <a href="../jquery笔记/16. 15 jQuery-UI 知问前端--Ajax 登录.html" ><b>48.31</b> jQuery-UI 知问前端--Ajax 登录</a>
        
    </li>

                            
                                
    
    <li data-level="48.32" class="chapter" data-path="jquery笔记/16. 16 jQuery-UI 知问前端--选项卡 UI.html">
        
        
        <a href="../jquery笔记/16. 16 jQuery-UI 知问前端--选项卡 UI.html" ><b>48.32</b> jQuery-UI 知问前端--选项卡 UI</a>
        
    </li>

                            
                                
    
    <li data-level="48.33" class="chapter" data-path="jquery笔记/16. 17 jQuery-UI 知问前端--折叠菜单 UI.html">
        
        
        <a href="../jquery笔记/16. 17 jQuery-UI 知问前端--折叠菜单 UI.html" ><b>48.33</b> jQuery-UI 知问前端--折叠菜单 UI</a>
        
    </li>

                            
                                
    
    <li data-level="48.34" class="chapter" data-path="jquery笔记/16. 18 jQuery-UI 知问前端--编辑器插件.html">
        
        
        <a href="../jquery笔记/16. 18 jQuery-UI 知问前端--编辑器插件.html" ><b>48.34</b> jQuery-UI 知问前端--编辑器插件</a>
        
    </li>

                            
                                
    
    <li data-level="48.35" class="chapter" data-path="jquery笔记/16. 19 jQuery-UI 知问前端--Ajax 提问.html">
        
        
        <a href="../jquery笔记/16. 19 jQuery-UI 知问前端--Ajax 提问.html" ><b>48.35</b> jQuery-UI 知问前端--Ajax 提问</a>
        
    </li>

                            
                                
    
    <li data-level="48.36" class="chapter" data-path="jquery笔记/16. 20 jQquery-UI 知问前端--Ajax 显示.html">
        
        
        <a href="../jquery笔记/16. 20 jQquery-UI 知问前端--Ajax 显示.html" ><b>48.36</b> jQquery-UI 知问前端--Ajax 显示</a>
        
    </li>

                            
                                
    
    <li data-level="48.37" class="chapter" data-path="jquery笔记/16. 21 jQuery-UI 知问前端--Ajax 提交评论.html">
        
        
        <a href="../jquery笔记/16. 21 jQuery-UI 知问前端--Ajax 提交评论.html" ><b>48.37</b> jQuery-UI 知问前端--Ajax 提交评论</a>
        
    </li>

                            
                                
    
    <li data-level="48.38" class="chapter" data-path="jquery笔记/16. 22 jQuery-UI 知问前端--Ajax 显示评论.html">
        
        
        <a href="../jquery笔记/16. 22 jQuery-UI 知问前端--Ajax 显示评论.html" ><b>48.38</b> jQuery-UI 知问前端--Ajax 显示评论</a>
        
    </li>

                            
                                
    
    <li data-level="48.39" class="chapter" data-path="jquery笔记/16. 23 jQuery-UI 知问前端--Ajax 加载更多.html">
        
        
        <a href="../jquery笔记/16. 23 jQuery-UI 知问前端--Ajax 加载更多.html" ><b>48.39</b> jQuery-UI 知问前端--Ajax 加载更多</a>
        
    </li>

                            
                                
    
    <li data-level="48.40" class="chapter" data-path="jquery笔记/16. 24 jQuery-UI 知问前端--总结及屏蔽低版 IE.html">
        
        
        <a href="../jquery笔记/16. 24 jQuery-UI 知问前端--总结及屏蔽低版 IE.html" ><b>48.40</b> jQuery-UI 知问前端--总结及屏蔽低版 IE</a>
        
    </li>

                            
                        </ul>
                    
                
        
    </li>

            
                
                
    
    <li data-level="49" class="chapter" data-path="thinkphp3.2备课笔记/index.html">
        
        
        <a href="#" ><b>49</b> thinkphp3.2备课笔记</a>
        
            
                    
                        <ul class="articles">
                            
                                
    
    <li data-level="49.1" class="chapter" data-path="thinkphp3.2备课笔记/01.ThinkPHP-为什么要使用框架.html">
        
        
        <a href="../thinkphp3.2备课笔记/01.ThinkPHP-为什么要使用框架.html" ><b>49.1</b> 01.ThinkPHP-为什么要使用框架</a>
        
    </li>

                            
                                
    
    <li data-level="49.2" class="chapter" data-path="thinkphp3.2备课笔记/02.ThinkPHP-安装与配置.html">
        
        
        <a href="../thinkphp3.2备课笔记/02.ThinkPHP-安装与配置.html" ><b>49.2</b> 02.ThinkPHP-安装与配置</a>
        
    </li>

                            
                                
    
    <li data-level="49.3" class="chapter" data-path="thinkphp3.2备课笔记/03.ThinkPHP--模块化和URL模式.html">
        
        
        <a href="../thinkphp3.2备课笔记/03.ThinkPHP--模块化和URL模式.html" ><b>49.3</b> 03.ThinkPHP--模块化和URL模式</a>
        
    </li>

                            
                                
    
    <li data-level="49.4" class="chapter" data-path="thinkphp3.2备课笔记/04.ThinkPHP-数据库模型初级.html">
        
        
        <a href="../thinkphp3.2备课笔记/04.ThinkPHP-数据库模型初级.html" ><b>49.4</b> 04.ThinkPHP-数据库模型初级</a>
        
    </li>

                            
                                
    
    <li data-level="49.5" class="chapter" data-path="thinkphp3.2备课笔记/05.ThinkPHP-SQL查询语句.html">
        
        
        <a href="../thinkphp3.2备课笔记/05.ThinkPHP-SQL查询语句.html" ><b>49.5</b> 05.ThinkPHP-SQL查询语句</a>
        
    </li>

                            
                                
    
    <li data-level="49.6" class="chapter" data-path="thinkphp3.2备课笔记/06.ThinkPHP-SQL连惯操作.html">
        
        
        <a href="../thinkphp3.2备课笔记/06.ThinkPHP-SQL连惯操作.html" ><b>49.6</b> ThinkPHP-SQL连惯操作</a>
        
    </li>

                            
                                
    
    <li data-level="49.7" class="chapter" data-path="thinkphp3.2备课笔记/07.ThinkPHP-CURD操作.html">
        
        
        <a href="../thinkphp3.2备课笔记/07.ThinkPHP-CURD操作.html" ><b>49.7</b> 07.ThinkPHP-CURD操作</a>
        
    </li>

                            
                                
    
    <li data-level="49.8" class="chapter" data-path="thinkphp3.2备课笔记/08.ThinkPHP-自动验证.html">
        
        
        <a href="../thinkphp3.2备课笔记/08.ThinkPHP-自动验证.html" ><b>49.8</b> 08.ThinkPHP-自动验证</a>
        
    </li>

                            
                                
    
    <li data-level="49.9" class="chapter" data-path="thinkphp3.2备课笔记/09.ThinkPHP-自动完成.html">
        
        
        <a href="../thinkphp3.2备课笔记/09.ThinkPHP-自动完成.html" ><b>49.9</b> 09.ThinkPHP-自动完成</a>
        
    </li>

                            
                                
    
    <li data-level="49.10" class="chapter" data-path="thinkphp3.2备课笔记/10.ThinkPHP-视图.html">
        
        
        <a href="../thinkphp3.2备课笔记/10.ThinkPHP-视图.html" ><b>49.10</b> 10.ThinkPHP-视图</a>
        
    </li>

                            
                                
    
    <li data-level="49.11" class="chapter" data-path="thinkphp3.2备课笔记/11.ThinkPHP-模板基础.html">
        
        
        <a href="../thinkphp3.2备课笔记/11.ThinkPHP-模板基础.html" ><b>49.11</b> 11.ThinkPHP-模板基础</a>
        
    </li>

                            
                                
    
    <li data-level="49.12" class="chapter" data-path="thinkphp3.2备课笔记/12.ThinkPHP-内置标签.html">
        
        
        <a href="../thinkphp3.2备课笔记/12.ThinkPHP-内置标签.html" ><b>49.12</b> 12.ThinkPHP-内置标签</a>
        
    </li>

                            
                                
    
    <li data-level="49.13" class="chapter" data-path="thinkphp3.2备课笔记/13.ThinkPHP-标签库.html">
        
        
        <a href="../thinkphp3.2备课笔记/13.ThinkPHP-标签库.html" ><b>49.13</b> 13.ThinkPHP-标签库</a>
        
    </li>

                            
                                
    
    <li data-level="49.14" class="chapter" data-path="thinkphp3.2备课笔记/14.ThinkPHP-路由功能.html">
        
        
        <a href="../thinkphp3.2备课笔记/14.ThinkPHP-路由功能.html" ><b>49.14</b> 14.ThinkPHP-路由功能</a>
        
    </li>

                            
                                
    
    <li data-level="49.15" class="chapter" data-path="thinkphp3.2备课笔记/15.Thinkphp-URL操作.html">
        
        
        <a href="../thinkphp3.2备课笔记/15.Thinkphp-URL操作.html" ><b>49.15</b> 15.ThinkPHP-URL操作</a>
        
    </li>

                            
                                
    
    <li data-level="49.16" class="chapter" data-path="thinkphp3.2备课笔记/16.ThinkPHP-控制器.html">
        
        
        <a href="../thinkphp3.2备课笔记/16.ThinkPHP-控制器.html" ><b>49.16</b> 16.ThinkPHP-控制器</a>
        
    </li>

                            
                                
    
    <li data-level="49.17" class="chapter" data-path="thinkphp3.2备课笔记/17.ThinkPHP-session与cookie.html">
        
        
        <a href="../thinkphp3.2备课笔记/17.ThinkPHP-session与cookie.html" ><b>49.17</b> 17.ThinkPHP-session与cookie</a>
        
    </li>

                            
                                
    
    <li data-level="49.18" class="chapter" data-path="thinkphp3.2备课笔记/18.ThinkPHP图像处理.html">
        
        
        <a href="../thinkphp3.2备课笔记/18.ThinkPHP图像处理.html" ><b>49.18</b> 18.ThinkPHP图像处理</a>
        
    </li>

                            
                                
    
    <li data-level="49.19" class="chapter" data-path="thinkphp3.2备课笔记/19.ThinkPHP-验证码.html">
        
        
        <a href="../thinkphp3.2备课笔记/19.ThinkPHP-验证码.html" ><b>49.19</b> 19.ThinkPHP-验证码</a>
        
    </li>

                            
                                
    
    <li data-level="49.20" class="chapter" data-path="thinkphp3.2备课笔记/20.ThinkPHP-文件上传.html">
        
        
        <a href="../thinkphp3.2备课笔记/20.ThinkPHP-文件上传.html" ><b>49.20</b> 20.ThinkPHP-文件上传</a>
        
    </li>

                            
                                
    
    <li data-level="49.21" class="chapter" data-path="thinkphp3.2备课笔记/21.ThinkPHP-多语言.html">
        
        
        <a href="../thinkphp3.2备课笔记/21.ThinkPHP-多语言.html" ><b>49.21</b> 21.ThinkPHP-多语言</a>
        
    </li>

                            
                                
    
    <li data-level="49.22" class="chapter" data-path="thinkphp3.2备课笔记/22.ThinkPHP-auth权限控制.html">
        
        
        <a href="../thinkphp3.2备课笔记/22.ThinkPHP-auth权限控制.html" ><b>49.22</b> 22.ThinkPHP-auth权限控制</a>
        
    </li>

                            
                                
    
    <li data-level="49.23" class="chapter" data-path="thinkphp3.2备课笔记/23.ThinkPHP-关联模型.html">
        
        
        <a href="../thinkphp3.2备课笔记/23.ThinkPHP-关联模型.html" ><b>49.23</b> 23.ThinkPHP-关联模型</a>
        
    </li>

                            
                                
    
    <li data-level="49.24" class="chapter" data-path="thinkphp3.2备课笔记/24.ThinkPHP-视图模型与分页.html">
        
        
        <a href="../thinkphp3.2备课笔记/24.ThinkPHP-视图模型与分页.html" ><b>49.24</b> 24.ThinkPHP-视图模型与分页</a>
        
    </li>

                            
                                
    
    <li data-level="49.25" class="chapter" data-path="thinkphp3.2备课笔记/25.ThinkPHP-缓存处理.html">
        
        
        <a href="../thinkphp3.2备课笔记/25.ThinkPHP-缓存处理.html" ><b>49.25</b> 25.ThinkPHP-缓存处理</a>
        
    </li>

                            
                                
    
    <li data-level="49.26" class="chapter" data-path="thinkphp3.2备课笔记/26.ThinkPHP-调试方法.html">
        
        
        <a href="../thinkphp3.2备课笔记/26.ThinkPHP-调试方法.html" ><b>49.26</b> 26.ThinkPHP-调试方法</a>
        
    </li>

                            
                        </ul>
                    
                
        
    </li>

            
                
                
    
    <li data-level="50" class="chapter" data-path="thinkphp5备课笔记/index.html">
        
        
        <a href="#" ><b>50</b> thinkphp5备课笔记</a>
        
            
                    
                        <ul class="articles">
                            
                                
    
    <li data-level="50.1" class="chapter" data-path="thinkphp5备课笔记/01.ThinkPHP5.0-安装与配置.html">
        
        
        <a href="../thinkphp5备课笔记/01.ThinkPHP5.0-安装与配置.html" ><b>50.1</b> 01.ThinkPHP5.0-安装与配置</a>
        
    </li>

                            
                                
    
    <li data-level="50.2" class="chapter" data-path="thinkphp5备课笔记/02.ThinkPHP5.0-模块化与URL访问.html">
        
        
        <a href="../thinkphp5备课笔记/02.ThinkPHP5.0-模块化与URL访问.html" ><b>50.2</b> 0.2ThinkPHP5.0-模块化与URL访问</a>
        
    </li>

                            
                                
    
    <li data-level="50.3" class="chapter" data-path="thinkphp5备课笔记/03.ThinkPHP5.0-URL访问与路由.html">
        
        
        <a href="../thinkphp5备课笔记/03.ThinkPHP5.0-URL访问与路由.html" ><b>50.3</b> 03.ThinkPHP5.0-URL访问与路由</a>
        
    </li>

                            
                                
    
    <li data-level="50.4" class="chapter" data-path="thinkphp5备课笔记/04.ThinkPHP5.0-请求与向应.html">
        
        
        <a href="../thinkphp5备课笔记/04.ThinkPHP5.0-请求与向应.html" ><b>50.4</b> 04.ThinkPHP5.0-请求与向应</a>
        
    </li>

                            
                                
    
    <li data-level="50.5" class="chapter active" data-path="thinkphp5备课笔记/05.ThinkPHP5.0-数据库基本操作.html">
        
        
        <a href="../thinkphp5备课笔记/05.ThinkPHP5.0-数据库基本操作.html" ><b>50.5</b> 05.ThinkPHP5.0-数据库基本操作</a>
        
    </li>

                            
                                
    
    <li data-level="50.6" class="chapter" data-path="thinkphp5备课笔记/06.ThinkPHP5.0-数据库操作-增删改.html">
        
        
        <a href="../thinkphp5备课笔记/06.ThinkPHP5.0-数据库操作-增删改.html" ><b>50.6</b> 06.Thinkphp5.0-数据库操作-增删改</a>
        
    </li>

                            
                                
    
    <li data-level="50.7" class="chapter" data-path="thinkphp5备课笔记/07.ThinkPHP5.0-数据库查询.html">
        
        
        <a href="../thinkphp5备课笔记/07.ThinkPHP5.0-数据库查询.html" ><b>50.7</b> ThinkPHP5.0-数据库查询</a>
        
    </li>

                            
                                
    
    <li data-level="50.8" class="chapter" data-path="thinkphp5备课笔记/08.ThinkPHP5.0-模型.html">
        
        
        <a href="../thinkphp5备课笔记/08.ThinkPHP5.0-模型.html" ><b>50.8</b> ThinkPHP5.0-模型</a>
        
    </li>

                            
                                
    
    <li data-level="50.9" class="chapter" data-path="thinkphp5备课笔记/09.ThinkPHP5.0-验证.html">
        
        
        <a href="../thinkphp5备课笔记/09.ThinkPHP5.0-验证.html" ><b>50.9</b> 09.ThinkPHP5.0-验证</a>
        
    </li>

                            
                                
    
    <li data-level="50.10" class="chapter" data-path="thinkphp5备课笔记/10.ThinkPHP5.0-视图和模板.html">
        
        
        <a href="../thinkphp5备课笔记/10.ThinkPHP5.0-视图和模板.html" ><b>50.10</b> 10.ThinkPHP5.0-视图和模板</a>
        
    </li>

                            
                                
    
    <li data-level="50.11" class="chapter" data-path="thinkphp5备课笔记/11.ThinkPHP5.0-模板引擎.html">
        
        
        <a href="../thinkphp5备课笔记/11.ThinkPHP5.0-模板引擎.html" ><b>50.11</b> 11.ThinkPHP5.0-模板引擎</a>
        
    </li>

                            
                                
    
    <li data-level="50.12" class="chapter" data-path="thinkphp5备课笔记/12.ThinkPHP5.0-错误调试与日志.html">
        
        
        <a href="../thinkphp5备课笔记/12.ThinkPHP5.0-错误调试与日志.html" ><b>50.12</b> 12.ThinkPHP5.0-错误调试与日志</a>
        
    </li>

                            
                                
    
    <li data-level="50.13" class="chapter" data-path="thinkphp5备课笔记/13.ThinkPHP5.0-扩展.html">
        
        
        <a href="../thinkphp5备课笔记/13.ThinkPHP5.0-扩展.html" ><b>50.13</b> 13.ThinkPHP5.0-扩展</a>
        
    </li>

                            
                                
    
    <li data-level="50.14" class="chapter" data-path="thinkphp5备课笔记/14.ThinkPHP5.0-session与cookie.html">
        
        
        <a href="../thinkphp5备课笔记/14.ThinkPHP5.0-session与cookie.html" ><b>50.14</b> 14.ThinkPHP5.0-session与cookie</a>
        
    </li>

                            
                                
    
    <li data-level="50.15" class="chapter" data-path="thinkphp5备课笔记/15.ThinkPHP5.0-验证码.html">
        
        
        <a href="../thinkphp5备课笔记/15.ThinkPHP5.0-验证码.html" ><b>50.15</b> 15.ThinkPHP5.0-验证码</a>
        
    </li>

                            
                                
    
    <li data-level="50.16" class="chapter" data-path="thinkphp5备课笔记/16.ThinkPHP5.0-文件上传.html">
        
        
        <a href="../thinkphp5备课笔记/16.ThinkPHP5.0-文件上传.html" ><b>50.16</b> 16.ThinkPHP5.0-文件上传</a>
        
    </li>

                            
                                
    
    <li data-level="50.17" class="chapter" data-path="thinkphp5备课笔记/17.ThinkPHP5.0-图片处理.html">
        
        
        <a href="../thinkphp5备课笔记/17.ThinkPHP5.0-图片处理.html" ><b>50.17</b> 17.ThinkPHP5.0-图片处理</a>
        
    </li>

                            
                                
    
    <li data-level="50.18" class="chapter" data-path="thinkphp5备课笔记/18.ThinkPHP5.0-缓存.html">
        
        
        <a href="../thinkphp5备课笔记/18.ThinkPHP5.0-缓存.html" ><b>50.18</b> 18.ThinkPHP5.0-缓存</a>
        
    </li>

                            
                        </ul>
                    
                
        
    </li>

            
                
                
    
    <li data-level="51" class="chapter" data-path="微信小程序/index.html">
        
        
        <a href="#" ><b>51</b> 微信小程序</a>
        
            
                    
                        <ul class="articles">
                            
                                
    
    <li data-level="51.1" class="chapter" data-path="微信小程序/01-微信小程序账号与工具.html">
        
        
        <a href="../微信小程序/01-微信小程序账号与工具.html" ><b>51.1</b> 微信小程序账号与工具</a>
        
    </li>

                            
                                
    
    <li data-level="51.2" class="chapter" data-path="微信小程序/02-微信小程序文件结构.html">
        
        
        <a href="../微信小程序/02-微信小程序文件结构.html" ><b>51.2</b> 微信小程序文件结构</a>
        
    </li>

                            
                                
    
    <li data-level="51.3" class="chapter" data-path="微信小程序/03-微信小程序配置-JSON.html">
        
        
        <a href="../微信小程序/03-微信小程序配置-JSON.html" ><b>51.3</b> 微信小程序配置</a>
        
    </li>

                            
                                
    
    <li data-level="51.4" class="chapter" data-path="微信小程序/04-页面常用标签-WXML.html">
        
        
        <a href="../微信小程序/04-页面常用标签-WXML.html" ><b>51.4</b> 04-页面结构-WXML</a>
        
    </li>

                            
                                
    
    <li data-level="51.5" class="chapter" data-path="微信小程序/05-页面数据与函数-JS.html">
        
        
        <a href="../微信小程序/05-页面数据与函数-JS.html" ><b>51.5</b> 05-页面数据与函数-JS</a>
        
    </li>

                            
                                
    
    <li data-level="51.6" class="chapter" data-path="微信小程序/06-页面样式-WXSS.html">
        
        
        <a href="../微信小程序/06-页面样式-WXSS.html" ><b>51.6</b> 06-页面样式-WXSS</a>
        
    </li>

                            
                                
    
    <li data-level="51.7" class="chapter" data-path="微信小程序/07-页面整体WXML布局.html">
        
        
        <a href="../微信小程序/07-页面整体WXML布局.html" ><b>51.7</b> 07-页面整体WXML布局</a>
        
    </li>

                            
                                
    
    <li data-level="51.8" class="chapter" data-path="微信小程序/08-事件.html">
        
        
        <a href="../微信小程序/08-事件.html" ><b>51.8</b> 事件</a>
        
    </li>

                            
                                
    
    <li data-level="51.9" class="chapter" data-path="微信小程序/09-WXS脚本.html">
        
        
        <a href="../微信小程序/09-WXS脚本.html" ><b>51.9</b> WXS脚本</a>
        
    </li>

                            
                                
    
    <li data-level="51.10" class="chapter" data-path="微信小程序/10-小程序云开发.html">
        
        
        <a href="../微信小程序/10-小程序云开发.html" ><b>51.10</b> 10-小程序云开发</a>
        
    </li>

                            
                                
    
    <li data-level="51.11" class="chapter" data-path="微信小程序/11-小程序云开发-云数据库.html">
        
        
        <a href="../微信小程序/11-小程序云开发-云数据库.html" ><b>51.11</b> 11-小程序云开发-云数据库</a>
        
    </li>

                            
                        </ul>
                    
                
        
    </li>

            
        </ul>

    </div>

    <div class="book-body">
        <div class="body-inner">

            <div class="book-header" role="navigation">
                <h1>
                    <a href="../index.html" > php笔记2018</a>
                </h1>
            </div>

            <div tabindex="-1" class="page-wrapper">
                <div class="page-inner">
                    <h2 class="post_title"> 05.ThinkPHP5.0-数据库基本操作 </h2>
                    <div class="post_body"> <p class="md_block">

<div class="toc"><ul>
<li>
<a href="#toc_0">05.ThinkPHP5.0-数据库基本操作</a>
<ul>
<li>
<a href="#toc_1">三方SQL追踪器</a>
</li>
<li>
<a href="#toc_2">数据库的基本使用</a>
<ul>
<li>
<a href="#toc_3">一、配置文件定义</a>
</li>
<li>
<a href="#toc_4">执行原SQL语句 Db::execute | Db::query</a>
</li>
<li>
<a href="#toc_5">5.0的SQL语句预处理特点</a>
</li>
<li>
<a href="#toc_6">数据库的多种配置</a>
<ul>
<li>
<a href="#toc_7">1.基本配置文件 - 上面已讲</a>
</li>
<li>
<a href="#toc_8">2.字符串配置</a>
</li>
<li>
<a href="#toc_9">3.在应用配置文件中写多个数据库配置项, 注意:是config.php中写,而不是在database.php中写配置</a>
</li>
<li>
<a href="#toc_10">数据模型定义-模型再来讲详细的</a>
</li>
</ul>
</li>
<li>
<a href="#toc_11">Db::name() 与 db()助手函数</a>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</p>


<h2 id="toc_1">三方SQL追踪器</h2>

<p class="md_block">
    <span class="md_line">我们在开发项目时,可能一半左右是数据库操作.而在ThinkPHP中,特别是用了语SQL语句构造器后特别难追踪SQL语句的正确性.所以我们借助SQL查询日志与PHP开发的追踪器,使用起来方便.<br /></span>
    <span class="md_line">下面我提供源码,共两个文件,index.php,config.php,把它们放在一个目录中就行了.</span>
</p>

<div class="codehilite code_lang_php  highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>
<span class="sd">/**</span>
<span class="sd">此工具永久开源, 免费升级. 开发者开发后 必须免费开源,不得收费.</span>
<span class="sd">php工具箱</span>
<span class="sd">群主开发的,作者 鲲鹏IT高级讲师:霍德明 联系QQ:56928691</span>
<span class="sd">*/</span> 


<span class="cm">/*</span>
<span class="cm">如果是 mysql5.4以下版本</span>
<span class="cm">在my.ini 文件中 设置 log=&#39;你的log 日志路径&#39;  这个配置下面数组配置需要用得上</span>
<span class="cm">在[mysqld]后面增加一行  然后重启mysql 生效</span>
<span class="cm">log=D:/wamp/www/mysql_bz.log</span>

<span class="cm">* 如果是 mysql5.5以上版本  一次性修改方法 重启后无效</span>
<span class="cm">SHOW VARIABLES LIKE &#39;%general_log%&#39;</span>
<span class="cm">SET GLOBAL general_log = 1</span>
<span class="cm">SET GLOBAL general_log_file = &#39;你的log 日志路径&#39; 这个配置下面数组配置需要用得上</span>

<span class="cm">长期有效修改方法在 my.ini 里面 [mysqld] 后面加上如下代码 没有 [mysqld] 自己加上</span>
<span class="cm">[mysqld]</span>
<span class="cm">general_log=ON</span>
<span class="cm">general_log_file=D:/wamp/www/mysql_bz.log // 这里设置你 log日志路径  这个配置下面数组配置需要用得上</span>
<span class="cm"># log-raw=true  如果错误日志没记录 则开启这行, 参考地址 http://dev.mysql.com/doc/refman/5.7/en/query-log.html</span>
<span class="cm"># http://dev.mysql.com/doc/refman/5.7/en/password-logging.html</span>
<span class="cm">然后重启mysql 生效</span>
<span class="cm">错误的sql不会被成功解析，所以不会记录到general log中</span>
<span class="cm">如果需要记录所有的语句，包括那些错误的，请加 log-raw选项  log-raw=true</span>
<span class="cm">*/</span>
<span class="k">return</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;web_url&#39;</span>  <span class="o">=&gt;</span><span class="s1">&#39;http://127.0.0.1/sql/index.php&#39;</span><span class="p">,</span> <span class="c1">// php工具箱访问 url 根路径  能访问到你工具箱的 地址</span>
    <span class="s1">&#39;mysql_log&#39;</span><span class="o">=&gt;</span><span class="s1">&#39;D:/phpStudy18/PHPTutorial/MySQL/data/HDMHP-PC.log&#39;</span><span class="p">,</span> <span class="c1">// mysql 标准日志文件路径         </span>
    <span class="s1">&#39;mysql_host&#39;</span> <span class="o">=&gt;</span><span class="s1">&#39;localhost&#39;</span><span class="p">,</span> <span class="c1">//mysql连接地址</span>
    <span class="s1">&#39;mysql_user&#39;</span> <span class="o">=&gt;</span><span class="s1">&#39;root&#39;</span><span class="p">,</span> <span class="c1">//mysql账号</span>
    <span class="s1">&#39;mysql_password&#39;</span> <span class="o">=&gt;</span><span class="s1">&#39;root&#39;</span><span class="p">,</span> <span class="c1">//mysql密码</span>
    <span class="s1">&#39;mysql_port&#39;</span> <span class="o">=&gt;</span><span class="s1">&#39;3306&#39;</span><span class="p">,</span> <span class="c1">//mysql端口    </span>
<span class="p">);</span>
</pre></div>

<!--block_code_end-->
<p class="md_block">
    <span class="md_line">//index.php</span>
</p>

<div class="codehilite code_lang_html  highlight"><pre><span></span><span class="cp">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span> <span class="na">xmlns</span><span class="o">=</span><span class="s">&quot;http://www.w3.org/1999/xhtml&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">meta</span> <span class="na">http-equiv</span><span class="o">=</span><span class="s">&quot;Content-Type&quot;</span> <span class="na">content</span><span class="o">=</span><span class="s">&quot;text/html; charset=utf-8&quot;</span> <span class="p">/&gt;</span>
<span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;keywords&quot;</span> <span class="na">content</span><span class="o">=</span><span class="s">&quot;php工具箱&quot;</span> <span class="p">/&gt;</span>
<span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;description&quot;</span> <span class="na">content</span><span class="o">=</span><span class="s">&quot;php工具箱&quot;</span> <span class="p">/&gt;</span>
<span class="c">&lt;!--下面这几行JQ也只做了一件事,打开页面时把它滚动到最下面.可以去掉,记得把下面的SCRIPT标签也去掉,免得脚本报脚本错误--&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;js/jquery-1.11.1.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="nx">scroll</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">scrollHeight</span><span class="p">);</span>
<span class="p">});</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="c">&lt;!-- -------------------------去掉结束--------------------------------------------------------------------------- --&gt;</span>


<span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>php-SQL查询分析器2.0<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span> <span class="na">style</span><span class="o">=</span><span class="s">&quot;background:#E5E5E5&quot;</span><span class="p">&gt;</span>
<span class="cp">&lt;?php </span>
<span class="cp">//include_once &#39;tools.php&#39;;</span>
<span class="cp">$config = include_once &#39;config.php&#39;;</span>
<span class="cp">?&gt;</span>
<span class="p">&lt;</span><span class="nt">style</span><span class="p">&gt;</span>
    <span class="nt">p</span><span class="p">{</span> <span class="nb">margin</span><span class="o">:</span><span class="m">0</span><span class="p">;}</span>
    <span class="nt">a</span><span class="p">{</span>
        <span class="nb">text-decoration</span><span class="o">:</span><span class="nb">none</span>
    <span class="p">}</span>
    <span class="nc">.success</span> <span class="p">{</span>
        <span class="nb">background</span><span class="o">:</span><span class="m">#00B2EE</span><span class="p">;</span>
        <span class="nb">border</span><span class="o">:</span><span class="m">1px</span> <span class="nb">solid</span><span class="p">;</span>
        <span class="nb">border-color</span><span class="o">:</span><span class="m">#009ACD</span><span class="p">;</span>
        <span class="nb">padding</span><span class="o">:</span><span class="m">5px</span> <span class="m">5px</span> <span class="m">5px</span> <span class="m">5px</span><span class="p">;</span>
        <span class="nb">border</span><span class="o">-</span><span class="n">radius</span><span class="o">:</span> <span class="m">15px</span><span class="p">;</span>
    <span class="p">}</span>
    
<span class="p">&lt;/</span><span class="nt">style</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#39;contents&#39;</span> <span class="na">style</span><span class="o">=</span><span class="s">&quot;padding:10px;font-size:16px;&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">font</span> <span class="na">style</span><span class="o">=</span><span class="s">&quot;color:#FF6600;font-size:19px;&quot;</span><span class="p">&gt;</span>sql调试工具，sql追踪 v2.0 版,  Huo Deming版权所有 违者必究 作者QQ:56928691<span class="p">&lt;/</span><span class="nt">font</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">br</span><span class="p">&gt;&lt;</span><span class="nt">br</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;end&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&#39;end&#39;</span> <span class="na">style</span><span class="o">=</span><span class="s">&quot;clear:both&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;?act=del&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;success&quot;</span><span class="p">&gt;</span>清空log日志文件<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span><span class="ni">&amp;nbsp;&amp;nbsp;&amp;nbsp;</span>
<span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;?act=freshen&lt;?php echo time();?&gt;#end&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;success&quot;</span><span class="p">&gt;</span>刷新页面<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

<span class="cp">&lt;?php</span>
<span class="cp">/**</span>
<span class="cp">* mysql 5 log 分析工具</span>
<span class="cp">*/</span>
<span class="cp">$log_str = &quot;&quot;;</span>
<span class="cp">/**</span>
<span class="cp">*配置说明</span>
<span class="cp">* 1.在mysql.ini 中加入 log=D:/web/mysql.log  重启mysql 看看 mysql.log 文件有没有生成</span>
<span class="cp">*   mysql.log 文件名如果在 mysql.ini 中已经使用 请换个名字</span>
<span class="cp">* 2.配置你的 mysql_query.php 访问路径 我这里是  $url_path=&#39;http://127.0.0.1:8080/mysql_query.php&#39;;</span>
<span class="cp">*</span>
<span class="cp">*/</span>
<span class="cp">$start_time = microtime(true);</span>
<span class="cp">$filename = $config[&#39;mysql_log&#39;];</span>
<span class="cp">$url_path = $config[&#39;web_url&#39;].&#39;/index.php&#39;;</span>

<span class="cp">if(isset($_GET[&#39;act&#39;]) &amp;&amp; $_GET[&#39;act&#39;] == &#39;del&#39;) </span>
<span class="cp">{</span>
<span class="cp">    //@unlink(&quot;$log_dir$log_file&quot;); // 删除日志文件</span>
<span class="cp">    </span>
<span class="cp">    $fp=@fopen($filename, &quot;w+&quot;); //打开文件指针，创建文件</span>
<span class="cp">    if ( !is_writable($filename) ){</span>
<span class="cp">          echo &#39;&lt;a href=&quot;doc/sql追踪器使用说明.html&quot; target=&quot;_blank&quot;&gt;点击查看安装使用说明&lt;/a&gt;&#39;;</span>
<span class="cp">          echo &quot;&lt;br/&gt;&quot;;</span>
<span class="cp">          die(&quot;log文件:&quot; .$filename. &quot;不可写，请检查！ 或尝试删除log文件 , 重启mysql&quot;);</span>
<span class="cp">    }else</span>
<span class="cp">    {</span>
<span class="cp">       fwrite($fp, $log_str.&quot;\r\n&quot;);</span>
<span class="cp">    }   </span>
<span class="cp">    @fclose($fp);  //关闭指针</span>

<span class="cp">}</span>

<span class="cp">if(!file_exists($filename))</span>
<span class="cp">{</span>
<span class="cp">    echo &quot;log文件不存在, 请到config.php 文件中配置&quot;;</span>
<span class="cp">    echo &#39;&lt;a href=&quot;doc/sql追踪器使用说明.html&quot; target=&quot;_blank&quot;&gt;点击查看安装使用说明&lt;/a&gt;&#39;;        </span>
<span class="cp">    exit;</span>
<span class="cp">}</span>
<span class="cp">else</span>
<span class="cp">{</span>
<span class="cp">    if(abs(filesize($filename) &gt; (1024*1014*1))) // 1M</span>
<span class="cp">    {</span>
<span class="cp">         file_put_contents($filename, $log_str);</span>
<span class="cp">    }</span>
<span class="cp">    $fp=@fopen($filename, &quot;r&quot;) or exit(&quot;log文件打不开!&quot;);; //打开文件指针，创建文件</span>
<span class="cp">    </span>
<span class="cp">    $upstr = &#39;&#39;; //上一次匹配的值</span>
<span class="cp">    </span>
<span class="cp">    while(!feof($fp))</span>
<span class="cp">    {   </span>
<span class="cp">        $str = fgets($fp);</span>
<span class="cp">        </span>
<span class="cp">        </span>
<span class="cp">        if(preg_match(&quot;/Connect/&quot;, $str)){</span>
<span class="cp">            $str = &#39;&lt;div style=&quot;background:#ebf8a4;border:1px solid;border-color:#a2d246;padding:10px 10px 10px 10px;&quot;&gt;&#39; . </span>
<span class="cp">                        htmltag(&#39;p&#39;,&#39;font-size:14px&#39;,$str).</span>
<span class="cp">                    &#39;&lt;/div&gt;&#39;;</span>
<span class="cp">        }else{</span>
<span class="cp">        </span>
<span class="cp">            /* MYSQL关键字类 */</span>
<span class="cp">            //防止关键字被短字符串先替换,按字符串长度排列</span>
<span class="cp">            $str = str_replace(&#39;SELECT&#39;,htmltag(&#39;span&#39;,&#39;color:#708&#39;,&#39;SELECT&#39;), $str);//SELECT比较特别</span>
<span class="cp">            $preplace = array(</span>
<span class="cp">                    &#39;SQL_CALC_FOUND_ROWS&#39;,</span>
<span class="cp">                    &#39;MINUTE_MICROSECOND&#39;,&#39;NO_WRITE_TO_BINLOG&#39;,&#39;SECOND_MICROSECOND&#39;,</span>
<span class="cp">                    &#39;CURRENT_TIMESTAMP&#39;,</span>
<span class="cp">                    &#39;HOUR_MICROSECOND&#39;,&#39;SQL_SMALL_RESULT&#39;,</span>
<span class="cp">                    &#39;DAY_MICROSECOND&#39;,</span>
<span class="cp">                    &#39;LOCALTIMESTAMP&#39;,&#39;SQL_BIG_RESULT&#39;,</span>
<span class="cp">                    &#39;DETERMINISTIC&#39;,&#39;HIGH_PRIORITY&#39;,&#39;MINUTE_SECOND&#39;,&#39;STRAIGHT_JOIN&#39;,&#39;UTC_TIMESTAMP&#39;,</span>
<span class="cp">                    &#39;CURRENT_DATE&#39;,&#39;CURRENT_TIME&#39;,&#39;CURRENT_USER&#39;,&#39;LOW_PRIORITY&#39;,&#39;SQLEXCEPTION&#39;,&#39;VARCHARACTER&#39;,</span>
<span class="cp">                    &#39;DISTINCTROW&#39;,&#39;HOUR_MINUTE&#39;,&#39;HOUR_SECOND&#39;,&#39;INSENSITIVE&#39;,</span>
<span class="cp">                    &#39;ASENSITIVE&#39;,&#39;CONNECTION&#39;,&#39;CONSTRAINT&#39;,&#39;DAY_MINUTE&#39;,&#39;DAY_SECOND&#39;,&#39;MEDIUMBLOB&#39;,&#39;MEDIUMTEXT&#39;,&#39;REFERENCES&#39;,&#39;SQLWARNING&#39;,&#39;TERMINATED&#39;,&#39;YEAR_MONTH&#39;,</span>
<span class="cp">                    &#39;CHARACTER&#39;,&#39;CONDITION&#39;,&#39;DATABASES&#39;,&#39;LOCALTIME&#39;,&#39;MEDIUMINT&#39;,&#39;MIDDLEINT&#39;,&#39;PRECISION&#39;,&#39;PROCEDURE&#39;,&#39;SENSITIVE&#39;,&#39;SEPARATOR&#39;,&#39;VARBINARY&#39;,</span>
<span class="cp">                    &#39;CONTINUE&#39;,&#39;DATABASE&#39;,&#39;DAY_HOUR&#39;,&#39;DESCRIBE&#39;,&#39;DISTINCT&#39;,&#39;ENCLOSED&#39;,&#39;FULLTEXT&#39;,&#39;INTERVAL&#39;,&#39;LONGBLOB&#39;,&#39;LONGTEXT&#39;,&#39;MODIFIES&#39;,&#39;OPTIMIZE&#39;,&#39;RESTRICT&#39;,&#39;SMALLINT&#39;,&#39;SPECIFIC&#39;,&#39;SQLSTATE&#39;,&#39;STARTING&#39;,&#39;TINYBLOB&#39;,&#39;TINYTEXT&#39;,&#39;TRAILING&#39;,&#39;UNSIGNED&#39;,&#39;UTC_DATE&#39;,&#39;UTC_TIME&#39;,&#39;ZEROFILL&#39;,</span>
<span class="cp">                    &#39;ANALYZE&#39;,&#39;BETWEEN&#39;,&#39;CASCADE&#39;,&#39;COLLATE&#39;,&#39;CONVERT&#39;,&#39;DECIMAL&#39;,&#39;DECLARE&#39;,&#39;DEFAULT&#39;,&#39;DELAYED&#39;,&#39;ESCAPED&#39;,&#39;EXPLAIN&#39;,&#39;FOREIGN&#39;,&#39;INTEGER&#39;,&#39;ITERATE&#39;,&#39;LEADING&#39;,&#39;NATURAL&#39;,&#39;NUMERIC&#39;,&#39;OUTFILE&#39;,&#39;PRIMARY&#39;,&#39;RELEASE&#39;,&#39;REPLACE&#39;,&#39;REQUIRE&#39;,&#39;SCHEMAS&#39;,&#39;SPATIAL&#39;,&#39;TINYINT&#39;,&#39;TRIGGER&#39;,&#39;VARCHAR&#39;,&#39;VARYING&#39;,</span>
<span class="cp">                    &#39;BEFORE&#39;,&#39;BIGINT&#39;,&#39;BINARY&#39;,&#39;CHANGE&#39;,&#39;COLUMN&#39;,&#39;CREATE&#39;,&#39;CURSOR&#39;,&#39;DELETE&#39;,&#39;DOUBLE&#39;,&#39;ELSEIF&#39;,&#39;EXISTS&#39;,&#39;FLOAT4&#39;,&#39;FLOAT8&#39;,&#39;HAVING&#39;,&#39;IGNORE&#39;,&#39;INFILE&#39;,&#39;INSERT&#39;,&#39;LINEAR&#39;,&#39;OPTION&#39;,&#39;REGEXP&#39;,&#39;RENAME&#39;,&#39;REPEAT&#39;,&#39;RETURN&#39;,&#39;REVOKE&#39;,&#39;SCHEMA&#39;,&#39;SELECT&#39;,&#39;UNIQUE&#39;,&#39;UNLOCK&#39;,&#39;UPDATE&#39;,&#39;VALUES&#39;,</span>
<span class="cp">                    &#39;ALTER&#39;,&#39;CHECK&#39;,&#39;CROSS&#39;,&#39;FALSE&#39;,&#39;FETCH&#39;,&#39;FLOAT&#39;,&#39;FORCE&#39;,&#39;GRANT&#39;,&#39;GROUP&#39;,&#39;INDEX&#39;,&#39;INNER&#39;,&#39;INOUT&#39;,&#39;LABEL&#39;,&#39;LEAVE&#39;,&#39;LIMIT&#39;,&#39;LINES&#39;,&#39;MATCH&#39;,&#39;ORDER&#39;,&#39;OUTER&#39;,&#39;PURGE&#39;,&#39;RAID0&#39;,&#39;RANGE&#39;,&#39;READS&#39;,&#39;RIGHT&#39;,&#39;RLIKE&#39;,&#39;UNION&#39;,&#39;USAGE&#39;,&#39;USING&#39;,&#39;WHERE&#39;,&#39;WHILE&#39;,&#39;WRITE&#39;,</span>
<span class="cp">                    &#39;BLOB&#39;,&#39;BOTH&#39;,&#39;CALL&#39;,&#39;CASE&#39;,&#39;CHAR&#39;,&#39;DESC&#39;,&#39;DROP&#39;,&#39;DUAL&#39;,&#39;EACH&#39;,&#39;ELSE&#39;,&#39;EXIT&#39;,&#39;FROM&#39;,&#39;GOTO&#39;,&#39;INT1&#39;,&#39;INT2&#39;,&#39;INT3&#39;,&#39;INT4&#39;,&#39;INT8&#39;,&#39;INTO&#39;,&#39;JOIN&#39;,&#39;KEYS&#39;,&#39;KILL&#39;,&#39;LEFT&#39;,&#39;LIKE&#39;,&#39;LOAD&#39;,&#39;LOCK&#39;,&#39;LONG&#39;,&#39;LOOP&#39;,&#39;READ&#39;,&#39;REAL&#39;,&#39;SHOW&#39;,&#39;THEN&#39;,&#39;TRUE&#39;,&#39;UNDO&#39;,&#39;WHEN&#39;,&#39;WITH&#39;,&#39;X509&#39;,</span>
<span class="cp">                    &#39;ADD&#39;,&#39;ALL&#39;,&#39;AND&#39;,&#39;ASC&#39;,&#39;DEC&#39;,&#39;DIV&#39;,&#39;FOR&#39;,&#39;INT&#39;,&#39;KEY&#39;,&#39;MOD&#39;,&#39;NOT&#39;,&#39;OUT&#39;,&#39;SET&#39;,&#39;SQL&#39;,&#39;SSL&#39;,&#39;USE&#39;,&#39;XOR&#39;,</span>
<span class="cp">                    &#39;AS&#39;,&#39;BY&#39;,&#39;IF&#39;,&#39;IN&#39;,&#39;IS&#39;,&#39;ON&#39;,&#39;OR&#39;,&#39;TO&#39;</span>
<span class="cp">            );</span>
<span class="cp">            </span>
<span class="cp">            foreach($preplace as $keyword){</span>
<span class="cp">                $keyword = $keyword . &#39; &#39;;</span>
<span class="cp">                $str = str_replace($keyword,htmltag(&#39;span&#39;,&#39;color:#708&#39;,$keyword), $str);</span>
<span class="cp">            }</span>
<span class="cp">            /* MYSQL函数类 */</span>
<span class="cp">            // 防止函数被短字符串先替换,按字符串长度排列</span>
<span class="cp">            $preplace2 = array(</span>
<span class="cp">                    &#39;UNCOMPRESSED_LENGTH&#39;,</span>
<span class="cp">                    &#39;CURRENT_TIMESTAMP&#39;,</span>
<span class="cp">                    &#39;CHARACTER_LENGTH&#39;,</span>
<span class="cp">                    &#39;SUBSTRING_INDEX&#39;,&#39;MASTER_POS_WAIT&#39;,</span>
<span class="cp">                    &#39;UNIX_TIMESTAMP&#39;,&#39;LAST_INSERT_ID&#39;,</span>
<span class="cp">                    &#39;FROM_UNIXTIME&#39;,&#39;TIMESTAMPDIFF&#39;,&#39;UTC_TIMESTAMP&#39;,&#39;CONNECTION_ID&#39;,</span>
<span class="cp">                    &#39;GROUP_CONCAT&#39;,&#39;CURRENT_DATE&#39;,&#39;CURRENT_TIME&#39;,&#39;OCTET_LENGTH&#39;,&#39;TIMESTAMPADD&#39;,&#39;OLD_PASSWORD&#39;,&#39;COERCIBILITY&#39;,&#39;CURRENT_USER&#39;,&#39;SESSION_USER&#39;,&#39;IS_FREE_LOCK&#39;,&#39;IS_USED_LOCK&#39;,&#39;RELEASE_LOCK&#39;,</span>
<span class="cp">                    &#39;FIND_IN_SET&#39;,&#39;DATE_FORMAT&#39;,&#39;AES_ENCRYPT&#39;,&#39;AES_DECRYPT&#39;,&#39;TIME_FORMAT&#39;,&#39;CHAR_LENGTH&#39;,&#39;PERIOD_DIFF&#39;,&#39;SEC_TO_TIME&#39;,&#39;TIME_TO_SEC&#39;,&#39;STR_TO_DATE&#39;,&#39;DES_DECRYPT&#39;,&#39;DES_ENCRYPT&#39;,&#39;SYSTEM_USER&#39;,&#39;STDDEV_SAMP&#39;,</span>
<span class="cp">                    &#39;BIT_LENGTH&#39;,&#39;DAYOFMONTH&#39;,&#39;EXPORT_SET&#39;,&#39;PERIOD_ADD&#39;,&#39;UNCOMPRESS&#39;,&#39;CONVERT_TZ&#39;,&#39;GET_FORMAT&#39;,&#39;WEEKOFYEAR&#39;,&#39;FOUND_ROWS&#39;,&#39;NAME_CONST&#39;,&#39;STDDEV_POP&#39;,</span>
<span class="cp">                    &#39;CONCAT_WS&#39;,&#39;DAYOFWEEK&#39;,&#39;DAYOFYEAR&#39;,&#39;MONTHNAME&#39;,&#39;INET_ATON&#39;,&#39;INET_NTOA&#39;,&#39;SUBSTRING&#39;,&#39;LOAD_FILE&#39;,&#39;FROM_DAYS&#39;,&#39;LOCALTIME&#39;,&#39;CROSECOND&#39;,&#39;BENCHMARK&#39;,&#39;COLLATION&#39;,&#39;ROW_COUNT&#39;,</span>
<span class="cp">                    &#39;GREATEST&#39;,&#39;TRUNCATE&#39;,&#39;POSITION&#39;,&#39;PASSWORD&#39;,&#39;DATABASE&#39;,&#39;DISTINCT&#39;,&#39;DATE_ADD&#39;,&#39;DATE_SUB&#39;,&#39;MAKE_SET&#39;,&#39;COMPRESS&#39;,&#39;DATEDIFF&#39;,&#39;LAST_DAY&#39;,&#39;MAKEDATE&#39;,&#39;MAKETIME&#39;,&#39;UTC_TIME&#39;,&#39;GET_LOCK&#39;,&#39;VAR_SAMP&#39;,&#39;VARIANCE&#39;,</span>
<span class="cp">                    &#39;CEILING&#39;,&#39;REVERSE&#39;,&#39;CURDATE&#39;,&#39;CURTIME&#39;,&#39;DAYNAME&#39;,&#39;QUARTER&#39;,&#39;EXTRACT&#39;,&#39;ENCRYPT&#39;,&#39;VERSION&#39;,&#39;SOUNDEX&#39;,&#39;REPLACE&#39;,&#39;WEEKDAY&#39;,&#39;ADDDATE&#39;,&#39;ADDTIME&#39;,&#39;SUBDATE&#39;,&#39;TO_DAYS&#39;,&#39;SYSDATE&#39;,&#39;DEGREES&#39;,&#39;RADIANS&#39;,&#39;AGAINST&#39;,&#39;CHARSET&#39;,&#39;DEFAULT&#39;,&#39;BIT_AND&#39;,&#39;BIT_XOR&#39;,&#39;VAR_POP&#39;,</span>
<span class="cp">                    &#39;CONCAT&#39;,&#39;INSERT&#39;,&#39;LENGTH&#39;,&#39;REPEAT&#39;,&#39;STRCMP&#39;,&#39;MINUTE&#39;,&#39;DECODE&#39;,&#39;ENCODE&#39;,&#39;IFNULL&#39;,&#39;NULLIF&#39;,&#39;FORMAT&#39;,&#39;SECOND&#39;,&#39;LOCATE&#39;,&#39;SCHEMA&#39;,&#39;VALUES&#39;,&#39;BIT_OR&#39;,&#39;STDDEV&#39;,</span>
<span class="cp">                    &#39;FLOOR&#39;,&#39;ROUND&#39;,&#39;COUNT&#39;,&#39;ASCII&#39;,&#39;LCASE&#39;,&#39;LOWER&#39;,&#39;LTRIM&#39;,&#39;QUOTE&#39;,&#39;RIGHT&#39;,&#39;RTRIM&#39;,&#39;UCASE&#39;,&#39;UPPER&#39;,&#39;MONTH&#39;,&#39;INSTR&#39;,&#39;SPACE&#39;,&#39;FIELD&#39;,&#39;UNHEX&#39;,&#39;ATAN2&#39;,&#39;CRC32&#39;,&#39;LOG10&#39;,&#39;POWER&#39;,&#39;MATCH&#39;,&#39;SLEEP&#39;,</span>
<span class="cp">                    &#39;RAND&#39;,&#39;SIGN&#39;,&#39;SQRT&#39;,&#39;LEFT&#39;,&#39;TRIM&#39;,&#39;HOUR&#39;,&#39;WEEK&#39;,&#39;YEAR&#39;,&#39;CAST&#39;,&#39;USER&#39;,&#39;CONV&#39;,&#39;CHAR&#39;,&#39;LPAD&#39;,&#39;RPAD&#39;,&#39;ACOS&#39;,&#39;ASIN&#39;,&#39;ATAN&#39;,&#39;CEIL&#39;,&#39;LOG2&#39;,&#39;DATE&#39;,&#39;UUID&#39;,</span>
<span class="cp">                    &#39;ABS&#39;,&#39;BIN&#39;,&#39;EXP&#39;,&#39;LOG&#39;,&#39;MOD&#39;,&#39;AVG&#39;,&#39;MIN&#39;,&#39;MAX&#39;,&#39;SUM&#39;,&#39;NOW&#39;,&#39;MD5&#39;,&#39;SHA&#39;,&#39;ORD&#39;,&#39;OCT&#39;,&#39;HEX&#39;,&#39;MID&#39;,&#39;ELT&#39;,&#39;COS&#39;,&#39;COT&#39;,&#39;POW&#39;,&#39;SIN&#39;,&#39;TAN&#39;,&#39;DAY&#39;,&#39;STD&#39;,</span>
<span class="cp">                    &#39;LN&#39;,&#39;IF&#39;,&#39;IN&#39;,&#39;PI&#39;</span>
<span class="cp">            );</span>
<span class="cp">            </span>
<span class="cp">            foreach($preplace2 as $function){</span>
<span class="cp">                $function1 = $function . &#39;(&#39;;</span>
<span class="cp">                $function2 = $function . &#39; (&#39;;</span>
<span class="cp">                $str = str_ireplace($function1,htmltag(&#39;span&#39;,&#39;color:#FF3E96&#39;,$function).&#39;(&#39;, $str);</span>
<span class="cp">                $str = str_ireplace($function2,htmltag(&#39;span&#39;,&#39;color:#FF3E96&#39;,$function).&#39;(&#39;, $str);</span>
<span class="cp">            }</span>
<span class="cp">        }</span>
<span class="cp">        //$str = str_replace(&#39;Query&#39;, &#39;&lt;br/&gt;&#39;, $str);</span>
<span class="cp">        $str = preg_replace(&#39;/([0-9]{1,} Query)|([0-9]{1,} Quit)/&#39;, &quot;&quot;, $str);</span>
<span class="cp">        $str = preg_replace(&#39;/([0-9]{1,})\sInit/&#39;, &quot;Init&quot;, $str);</span>
<span class="cp">        echo $str = htmltag(&#39;p&#39;,&#39;padding:2px;color:#05a;font-size:14px&#39;,$str);</span>

<span class="cp">    }   </span>
<span class="cp">    @fclose($fp);  //关闭指针</span>
<span class="cp">       </span>
<span class="cp">}   </span>
<span class="cp">$end_time = microtime(true);</span>
<span class="cp">$interval = $end_time - $start_time;</span>
<span class="cp">echo $str = htmltag(&#39;p&#39;,&#39;padding:2px;color:#8B0000;font-size:14px&#39;,&#39;获取花费:&#39;.$interval.&#39;秒&#39;);</span>
<span class="cp">/* 封装标签 */</span>
<span class="cp">function htmltag($tag,$style,$str){</span>
<span class="cp">    return &#39;&lt;&#39;.$tag.&#39; style=&quot;&#39;.$style.&#39;&quot;&gt;&#39;.$str.&#39;&lt;/&#39;.$tag.&#39;&gt;&#39;;</span>
<span class="cp">}</span>
<span class="cp">    </span>
<span class="cp">?&gt;</span>

<span class="p">&lt;</span><span class="nt">br</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;end&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&#39;end&#39;</span> <span class="na">style</span><span class="o">=</span><span class="s">&quot;clear:both;&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;?act=del&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;success&quot;</span> <span class="p">&gt;</span>清空log日志文件<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span><span class="ni">&amp;nbsp;&amp;nbsp;&amp;nbsp;</span>
<span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;?act=freshen&lt;?php echo time();?&gt;#end&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;success&quot;</span><span class="p">&gt;</span>刷新页面<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div>

<!--block_code_end-->
<h2 id="toc_2">数据库的基本使用</h2>

<p class="md_block">
    <span class="md_line">ThinkPHP内置了抽象数据库访问层，把不同的数据库操作封装起来，我们只需要使用公共的Db类进行操作，而无需针对不同的数据库写不同的代码和底层实现，Db类会自动调用相应的数据库驱动来处理。采用PDO方式，目前包含了Mysql、SqlServer、PgSQL、Sqlite等数据库的支持。 </span>
</p>


<h3 id="toc_3">一、配置文件定义</h3>

<p class="md_block">
    <span class="md_line">常用的配置方式是在应用目录或者模块目录下面的database.php中添加下面的配置参数：</span>
</p>

<div class="codehilite code_lang_php  highlight"><pre><span></span><span class="k">return</span> <span class="p">[</span>
    <span class="c1">// 数据库类型</span>
    <span class="s1">&#39;type&#39;</span>            <span class="o">=&gt;</span> <span class="s1">&#39;mysql&#39;</span><span class="p">,</span>
    <span class="c1">// 服务器地址</span>
    <span class="s1">&#39;hostname&#39;</span>        <span class="o">=&gt;</span> <span class="s1">&#39;127.0.0.1&#39;</span><span class="p">,</span>
    <span class="c1">// 数据库名</span>
    <span class="s1">&#39;database&#39;</span>        <span class="o">=&gt;</span> <span class="s1">&#39;thinkphp50&#39;</span><span class="p">,</span>
    <span class="c1">// 用户名</span>
    <span class="s1">&#39;username&#39;</span>        <span class="o">=&gt;</span> <span class="s1">&#39;root&#39;</span><span class="p">,</span>
    <span class="c1">// 密码</span>
    <span class="s1">&#39;password&#39;</span>        <span class="o">=&gt;</span> <span class="s1">&#39;root&#39;</span><span class="p">,</span>
    <span class="c1">// 端口</span>
    <span class="s1">&#39;hostport&#39;</span>        <span class="o">=&gt;</span> <span class="s1">&#39;3306&#39;</span><span class="p">,</span>
    <span class="c1">// 连接dsn</span>
    <span class="s1">&#39;dsn&#39;</span>             <span class="o">=&gt;</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="c1">// 数据库连接参数</span>
    <span class="s1">&#39;params&#39;</span>          <span class="o">=&gt;</span> <span class="p">[],</span>
    <span class="c1">// 数据库编码默认采用utf8</span>
    <span class="s1">&#39;charset&#39;</span>         <span class="o">=&gt;</span> <span class="s1">&#39;utf8&#39;</span><span class="p">,</span>
    <span class="c1">// 数据库表前缀</span>
    <span class="s1">&#39;prefix&#39;</span>          <span class="o">=&gt;</span> <span class="s1">&#39;think_&#39;</span><span class="p">,</span>
    <span class="c1">// 数据库调试模式</span>
    <span class="s1">&#39;debug&#39;</span>           <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
    <span class="c1">// 数据库部署方式:0 集中式(单一服务器),1 分布式(主从服务器)</span>
    <span class="s1">&#39;deploy&#39;</span>          <span class="o">=&gt;</span> <span class="mi">0</span><span class="p">,</span>
    <span class="c1">// 数据库读写是否分离 主从式有效</span>
    <span class="s1">&#39;rw_separate&#39;</span>     <span class="o">=&gt;</span> <span class="k">false</span><span class="p">,</span>
    <span class="c1">// 读写分离后 主服务器数量</span>
    <span class="s1">&#39;master_num&#39;</span>      <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
    <span class="c1">// 指定从服务器序号</span>
    <span class="s1">&#39;slave_no&#39;</span>        <span class="o">=&gt;</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="c1">// 是否严格检查字段是否存在</span>
    <span class="s1">&#39;fields_strict&#39;</span>   <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
    <span class="c1">// 数据集返回类型</span>
    <span class="s1">&#39;resultset_type&#39;</span>  <span class="o">=&gt;</span> <span class="s1">&#39;array&#39;</span><span class="p">,</span>
    <span class="c1">// 自动写入时间戳字段</span>
    <span class="s1">&#39;auto_timestamp&#39;</span>  <span class="o">=&gt;</span> <span class="k">false</span><span class="p">,</span>
    <span class="c1">// 时间字段取出后的默认时间格式</span>
    <span class="s1">&#39;datetime_format&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Y-m-d H:i:s&#39;</span><span class="p">,</span>
    <span class="c1">// 是否需要进行SQL性能分析</span>
    <span class="s1">&#39;sql_explain&#39;</span>     <span class="o">=&gt;</span> <span class="k">false</span><span class="p">,</span>
<span class="p">];</span>
</pre></div>

<!--block_code_end-->
<h3 id="toc_4">执行原SQL语句 Db::execute | Db::query</h3>

<ol>
<li>我们要创建一个数据库与表.这里用三方工具,插入测试数据</li>
</ol>
<div class="codehilite code_lang_sql  highlight"><pre><span></span><span class="c1">-- 创建数据库</span>
<span class="k">CREATE</span> <span class="k">DATABASE</span> <span class="k">IF</span> <span class="k">NOT</span> <span class="k">EXISTS</span> <span class="o">`</span><span class="n">thinkphp50</span><span class="o">`</span> <span class="k">DEFAULT</span> <span class="nb">CHARACTER</span> <span class="k">SET</span> <span class="n">utf8</span> <span class="k">COLLATE</span> <span class="n">utf8_general_ci</span><span class="p">;</span>
<span class="c1">-- 选择数据库</span>
<span class="n">USE</span> <span class="n">thinkphp50</span><span class="p">;</span>
<span class="c1">-- 创建用户表</span>
<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">think_member</span><span class="p">(</span>
  <span class="n">id</span> <span class="nb">int</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="n">AUTO_INCREMENT</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">,</span>
  <span class="n">uname</span> <span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span> <span class="k">DEFAULT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="n">email</span> <span class="nb">varchar</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span> <span class="k">DEFAULT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="n">age</span> <span class="nb">int</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="k">DEFAULT</span> <span class="k">NULL</span>
<span class="p">);</span>
<span class="c1">-- 插入一些数据</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">think_member</span><span class="p">(</span><span class="n">uname</span><span class="p">,</span><span class="n">email</span><span class="p">,</span><span class="n">age</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">&#39;霍德明&#39;</span><span class="p">,</span><span class="s1">&#39;huodeming1@163.com&#39;</span><span class="p">,</span><span class="mi">18</span><span class="p">),(</span><span class="s1">&#39;肖海华&#39;</span><span class="p">,</span><span class="s1">&#39;xiaohaihua@163.com&#39;</span><span class="p">,</span><span class="mi">16</span><span class="p">),(</span><span class="s1">&#39;张三&#39;</span><span class="p">,</span><span class="s1">&#39;zhangsan@163.com&#39;</span><span class="p">,</span><span class="mi">15</span><span class="p">),(</span><span class="s1">&#39;李四&#39;</span><span class="p">,</span><span class="s1">&#39;lisi@163.com&#39;</span><span class="p">,</span><span class="mi">14</span><span class="p">);</span>
<span class="c1">--  确认下数据存不存在</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">think_member</span><span class="p">;</span>
</pre></div>

<!--block_code_end-->
<ol>
<li>我们在控制器(application/index/Index.php/sql()中测试SQL语句</li>
</ol>

<p class="md_block">
    <span class="md_line">以下用浏览器访问：http://tp5.com/index/index/sql</span>
</p>

<div class="codehilite code_lang_php  highlight"><pre><span></span><span class="k">namespace</span> <span class="nx">app\index\controller</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">think\Db</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">think\Controller</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">Index</span> <span class="k">extends</span> <span class="nx">Controller</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">index</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">echo</span> <span class="s1">&#39;这是:&#39;</span><span class="o">.</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">request</span><span class="o">-&gt;</span><span class="na">module</span><span class="p">()</span><span class="o">.</span><span class="s1">&#39;模块;&#39;</span><span class="o">.</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">request</span><span class="o">-&gt;</span><span class="na">controller</span><span class="p">()</span><span class="o">.</span><span class="s1">&#39;控制器;&#39;</span><span class="o">.</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">request</span><span class="o">-&gt;</span><span class="na">action</span><span class="p">()</span><span class="o">.</span><span class="s1">&#39;方法!&lt;br /&gt;&#39;</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">test</span><span class="p">(){</span>
        <span class="k">echo</span> <span class="s1">&#39;这是:&#39;</span><span class="o">.</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">request</span><span class="o">-&gt;</span><span class="na">module</span><span class="p">()</span><span class="o">.</span><span class="s1">&#39;模块;&#39;</span><span class="o">.</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">request</span><span class="o">-&gt;</span><span class="na">controller</span><span class="p">()</span><span class="o">.</span><span class="s1">&#39;控制器;&#39;</span><span class="o">.</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">request</span><span class="o">-&gt;</span><span class="na">action</span><span class="p">()</span><span class="o">.</span><span class="s1">&#39;方法!&lt;br /&gt;&#39;</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">sql</span><span class="p">(){</span>
        <span class="k">echo</span> <span class="s1">&#39;这是:&#39;</span><span class="o">.</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">request</span><span class="o">-&gt;</span><span class="na">module</span><span class="p">()</span><span class="o">.</span><span class="s1">&#39;模块;&#39;</span><span class="o">.</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">request</span><span class="o">-&gt;</span><span class="na">controller</span><span class="p">()</span><span class="o">.</span><span class="s1">&#39;控制器;&#39;</span><span class="o">.</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">request</span><span class="o">-&gt;</span><span class="na">action</span><span class="p">()</span><span class="o">.</span><span class="s1">&#39;方法!&lt;br /&gt;&#39;</span><span class="p">;</span>
        <span class="c1">//echo &#39;测试原生SQL语句插入DB::execute方法,返回插入的记录数.&lt;br /&gt;&#39;;</span>
        <span class="c1">//echo Db::execute(&quot;INSERT INTO think_member(uname,email,age) VALUES(&#39;蜡笔大新&#39;,&#39;xin@163.com&#39;,&#39;15&#39;),(&#39;樱桃&#39;,&#39;yintao@qq.com&#39;,&#39;14&#39;)&quot;);</span>

        <span class="c1">//echo &#39;测试原生SQL语句修改DB::execute方法,返回实际修改的记录条数(条件符号但age已是17的不在内).&lt;br /&gt;&#39;;</span>
        <span class="c1">//echo Db::execute(&quot;UPDATE think_member SET age=17 WHERE id&gt;=&#39;6&#39;&quot;);</span>
        
        <span class="c1">//测试查询语句,返回结果的数组.也可以用于一些别的有结果返回的语句,如: show tables frome thinkphp50;</span>
        <span class="nx">dump</span><span class="p">(</span><span class="nx">Db</span><span class="o">::</span><span class="na">query</span><span class="p">(</span><span class="s1">&#39;select * from think_member&#39;</span><span class="p">));</span>

    <span class="p">}</span>
<span class="p">}</span>
</pre></div>

<!--block_code_end-->
<h3 id="toc_5">5.0的SQL语句预处理特点</h3>
<div class="codehilite code_lang_php  highlight"><pre><span></span><span class="c1">//?(问号)占位</span>
<span class="c1">//插入数据语句</span>
<span class="nx">Db</span><span class="o">::</span><span class="na">execute</span><span class="p">(</span><span class="s2">&quot;INSERT INTO think_member(uname,email,age) VALUES(&#39;蜡笔大新&#39;,&#39;xin@163.com&#39;,&#39;15&#39;)&quot;</span><span class="p">);</span>
<span class="c1">//我们可以写成</span>
<span class="nx">Db</span><span class="o">::</span><span class="na">execute</span><span class="p">(</span><span class="s2">&quot;INSERT INTO think_member(uname,email,age) VALUES(?,?,?)&quot;</span><span class="p">,[</span><span class="s1">&#39;蜡笔老新&#39;</span><span class="p">,</span><span class="s1">&#39;xin@163.com&#39;</span><span class="p">,</span><span class="s1">&#39;55&#39;</span><span class="p">]);</span>

<span class="c1">//:(冒号)占位  --  类似于变量名</span>
<span class="nx">dump</span><span class="p">(</span><span class="nx">Db</span><span class="o">::</span><span class="na">query</span><span class="p">(</span><span class="s2">&quot;select * from think_member where id=&#39;10&#39;&quot;</span><span class="p">));</span>
<span class="c1">//我们可以写成</span>
<span class="nx">dump</span><span class="p">(</span><span class="nx">Db</span><span class="o">::</span><span class="na">query</span><span class="p">(</span><span class="s1">&#39;select * from think_member where id= :id&#39;</span><span class="p">,[</span><span class="s1">&#39;id&#39;</span><span class="o">=&gt;</span><span class="mi">10</span><span class="p">]));</span>
</pre></div>

<!--block_code_end-->
<h3 id="toc_6">数据库的多种配置</h3>

<h4 id="toc_7">1.基本配置文件 - 上面已讲</h4>

<h4 id="toc_8">2.字符串配置</h4>

<p class="md_block">
    <span class="md_line">字符串连接的定义格式为：<br /></span>
    <span class="md_line md_line_dom_embed"><strong>数据库类型://用户名:密码@数据库地址:数据库端口/数据库名#字符集</strong><br /></span>
    <span class="md_line">注意：字符串方式可能无法定义某些参数，例如前缀和连接参数</span>
</p>

<div class="codehilite code_lang_php  highlight"><pre><span></span><span class="nx">Db</span><span class="o">::</span><span class="na">connect</span><span class="p">(</span><span class="s1">&#39;mysql://root:1234@127.0.0.1:3306/thinkphp#utf8&#39;</span><span class="p">);</span>
</pre></div>

<!--block_code_end-->
<h4 id="toc_9">3.在应用配置文件中写多个数据库配置项, 注意:是config.php中写,而不是在database.php中写配置</h4>
<div class="codehilite code_lang_php  highlight"><pre><span></span>    <span class="c1">//数据库配置1</span>
    <span class="s1">&#39;db_config1&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="c1">// 数据库类型</span>
        <span class="s1">&#39;type&#39;</span>        <span class="o">=&gt;</span> <span class="s1">&#39;mysql&#39;</span><span class="p">,</span>
        <span class="c1">// 服务器地址</span>
        <span class="s1">&#39;hostname&#39;</span>    <span class="o">=&gt;</span> <span class="s1">&#39;127.0.0.1&#39;</span><span class="p">,</span>
        <span class="c1">// 数据库名</span>
        <span class="s1">&#39;database&#39;</span>    <span class="o">=&gt;</span> <span class="s1">&#39;thinkphp501&#39;</span><span class="p">,</span>
        <span class="c1">// 数据库用户名</span>
        <span class="s1">&#39;username&#39;</span>    <span class="o">=&gt;</span> <span class="s1">&#39;root&#39;</span><span class="p">,</span>
        <span class="c1">// 数据库密码</span>
        <span class="s1">&#39;password&#39;</span>    <span class="o">=&gt;</span> <span class="s1">&#39;root&#39;</span><span class="p">,</span>
        <span class="c1">// 数据库编码默认采用utf8</span>
        <span class="s1">&#39;charset&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;utf8&#39;</span><span class="p">,</span>
        <span class="c1">// 数据库表前缀</span>
        <span class="s1">&#39;prefix&#39;</span>      <span class="o">=&gt;</span> <span class="s1">&#39;think_&#39;</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="c1">//数据库配置2</span>
    <span class="s1">&#39;db_config2&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;mysql://root:root@localhost:3306/thinkphp32#utf8&#39;</span><span class="p">,</span>
</pre></div>

<!--block_code_end-->
<p class="md_block">
    <span class="md_line">我们在使用时用Db::connect(&#39;配置项&#39;)-&gt;query(&#39;sql语句&#39;);</span>
</p>

<div class="codehilite code_lang_php  highlight"><pre><span></span> <span class="c1">//加载配置文件中的数据库配置</span>
 <span class="nx">dump</span><span class="p">(</span><span class="nx">Db</span><span class="o">::</span><span class="na">connect</span><span class="p">(</span><span class="s1">&#39;db_config1&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">query</span><span class="p">(</span><span class="s1">&#39;select * from think_member where uname like ?&#39;</span><span class="p">,[</span><span class="s1">&#39;%xx%&#39;</span><span class="p">]));</span>
</pre></div>

<!--block_code_end-->
<h4 id="toc_10">数据模型定义-模型再来讲详细的</h4>

<p class="md_block">
    <span class="md_line">模型类定义</span>
</p>


<p class="md_block">
    <span class="md_line">如果在某个模型类里面定义了connection属性的话，则该模型操作的时候会自动连接给定的数据库连接，而不是配置文件中设置的默认连接信息，通常用于某些数据表位于当前数据库连接之外的其它数据库，例如：<br /></span>
    <span class="md_line">//在模型里单独设置数据库连接信息</span>
</p>

<div class="codehilite code_lang_php  highlight"><pre><span></span><span class="k">namespace</span> <span class="nx">app\index\model</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">think\Model</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">User</span> <span class="k">extends</span> <span class="nx">Model</span>
<span class="p">{</span>
    <span class="k">protected</span> <span class="nv">$connection</span> <span class="o">=</span> <span class="p">[</span>
        <span class="c1">// 数据库类型</span>
        <span class="s1">&#39;type&#39;</span>        <span class="o">=&gt;</span> <span class="s1">&#39;mysql&#39;</span><span class="p">,</span>
        <span class="c1">// 数据库连接DSN配置</span>
        <span class="s1">&#39;dsn&#39;</span>         <span class="o">=&gt;</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
        <span class="c1">// 服务器地址</span>
        <span class="s1">&#39;hostname&#39;</span>    <span class="o">=&gt;</span> <span class="s1">&#39;127.0.0.1&#39;</span><span class="p">,</span>
        <span class="c1">// 数据库名</span>
        <span class="s1">&#39;database&#39;</span>    <span class="o">=&gt;</span> <span class="s1">&#39;thinkphp&#39;</span><span class="p">,</span>
        <span class="c1">// 数据库用户名</span>
        <span class="s1">&#39;username&#39;</span>    <span class="o">=&gt;</span> <span class="s1">&#39;root&#39;</span><span class="p">,</span>
        <span class="c1">// 数据库密码</span>
        <span class="s1">&#39;password&#39;</span>    <span class="o">=&gt;</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
        <span class="c1">// 数据库连接端口</span>
        <span class="s1">&#39;hostport&#39;</span>    <span class="o">=&gt;</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
        <span class="c1">// 数据库连接参数</span>
        <span class="s1">&#39;params&#39;</span>      <span class="o">=&gt;</span> <span class="p">[],</span>
        <span class="c1">// 数据库编码默认采用utf8</span>
        <span class="s1">&#39;charset&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;utf8&#39;</span><span class="p">,</span>
        <span class="c1">// 数据库表前缀</span>
        <span class="s1">&#39;prefix&#39;</span>      <span class="o">=&gt;</span> <span class="s1">&#39;think_&#39;</span><span class="p">,</span>
    <span class="p">];</span>
<span class="p">}</span>
</pre></div>

<!--block_code_end-->
<p class="md_block">
    <span class="md_line">也可以采用DSN字符串方式定义，例如：<br /></span>
    <span class="md_line">//在模型里单独设置数据库连接信息</span>
</p>

<div class="codehilite code_lang_php  highlight"><pre><span></span><span class="k">namespace</span> <span class="nx">app\index\model</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">think\Model</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">User</span> <span class="k">extends</span> <span class="nx">Model</span>
<span class="p">{</span>
    <span class="c1">//或者使用字符串定义</span>
    <span class="k">protected</span> <span class="nv">$connection</span> <span class="o">=</span> <span class="s1">&#39;mysql://root:1234@127.0.0.1:3306/thinkphp#utf8&#39;</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<!--block_code_end-->
<p class="md_block">
    <span class="md_line">需要注意的是，ThinkPHP的数据库连接是惰性的，所以并不是在实例化的时候就连接数据库，而是在有实际的数据操作的时候才会去连接数据库。<br /></span>
    <span class="md_line">配置参数参考<br /></span>
    <span class="md_line">下面是默认支持的数据库连接信息：</span>
</p>

<table>
 <thead><tr><th style="text-align:left">参数名</th>
<th style="text-align:left">描述</th>
<th style="text-align:left">默认值</th>
 </tr>
</thead>
 <tbody><tr><td style="text-align:left">type </td>
<td style="text-align:left"> 数据库类型 </td>
<td style="text-align:left"> 无</td>
</tr>
<tr><td style="text-align:left">hostname</td>
<td style="text-align:left"> 数据库地址</td>
<td style="text-align:left"> 127.0.0.1</td>
</tr>
<tr><td style="text-align:left">database</td>
<td style="text-align:left"> 数据库名称</td>
<td style="text-align:left"> 无</td>
</tr>
<tr><td style="text-align:left">username</td>
<td style="text-align:left"> 数据库用户名</td>
<td style="text-align:left"> 无</td>
</tr>
<tr><td style="text-align:left">password</td>
<td style="text-align:left"> 数据库密码 </td>
<td style="text-align:left">无</td>
</tr>
<tr><td style="text-align:left">hostport</td>
<td style="text-align:left"> 数据库端口号 </td>
<td style="text-align:left">无</td>
</tr>
<tr><td style="text-align:left">dsn</td>
<td style="text-align:left"> 数据库连接dsn信息</td>
<td style="text-align:left"> 无</td>
</tr>
<tr><td style="text-align:left">params </td>
<td style="text-align:left">数据库连接参数</td>
<td style="text-align:left"> 空</td>
</tr>
<tr><td style="text-align:left">charset</td>
<td style="text-align:left"> 数据库编码</td>
<td style="text-align:left"> utf8</td>
</tr>
<tr><td style="text-align:left">prefix</td>
<td style="text-align:left"> 数据库的表前缀</td>
<td style="text-align:left"> 无</td>
</tr>
<tr><td style="text-align:left">debug </td>
<td style="text-align:left">是否调试模式 </td>
<td style="text-align:left">false</td>
</tr>
<tr><td style="text-align:left">deploy </td>
<td style="text-align:left">数据库部署方式:0 集中式(单一服务器),1 分布式(主从服务器)</td>
<td style="text-align:left"> 0</td>
</tr>
<tr><td style="text-align:left">rw_separate </td>
<td style="text-align:left">数据库读写是否分离 主从式有效</td>
<td style="text-align:left"> false</td>
</tr>
<tr><td style="text-align:left">master_num</td>
<td style="text-align:left"> 读写分离后 主服务器数量</td>
<td style="text-align:left"> 1</td>
</tr>
<tr><td style="text-align:left">slave_no</td>
<td style="text-align:left">指定从服务器序号</td>
<td style="text-align:left"> 无</td>
</tr>
<tr><td style="text-align:left">fields_strict</td>
<td style="text-align:left"> 是否严格检查字段是否存在</td>
<td style="text-align:left"> true</td>
</tr>
<tr><td style="text-align:left">resultset_type</td>
<td style="text-align:left"> 数据集返回类型</td>
<td style="text-align:left"> array</td>
</tr>
<tr><td style="text-align:left">auto_timestamp</td>
<td style="text-align:left"> 自动写入时间戳字段</td>
<td style="text-align:left"> false</td>
</tr>
<tr><td style="text-align:left">sql_explain</td>
<td style="text-align:left"> 是否需要进行SQL性能分析 开启调试有效</td>
<td style="text-align:left"> false</td>
</tr>
<tr><td style="text-align:left">query </td>
<td style="text-align:left">指定查询对象</td>
<td style="text-align:left"> think\db\Query</td>
</tr>
<tr><td style="text-align:left">builder</td>
<td style="text-align:left"> 指定数据库Builder对象</td>
<td style="text-align:left"> 无</td>
</tr>
</tbody> 
</table>
<!--block_code_end-->
<h3 id="toc_11">Db::name() 与 db()助手函数</h3>

<p class="md_block md_has_block_below md_has_block_below_blockquote">
    <span class="md_line">在上面的增删改查中,我们用Db::execute()与Db::query()进行增删改查操作,在thinkphp5中,我们也可以用如下方式操作数据库.</span>
</p>


<blockquote>

<p class="md_block">
    <span class="md_line">注意：使用db助手函数默认每次都会重新连接数据库，而使用Db::name或者Db::table方法的话都是单例的。db函数如果需要采用相同的链接，可以传入第三个参数false,如果不想用第二个参数而直接用第三个参数,那么把第二个参数设为空就行,如 : db(&#39;member&#39;,[],false);</span>
</p>

</blockquote>
<div class="codehilite code_lang_php  highlight"><pre><span></span><span class="sd">/** </span>
<span class="sd"> * 实例化数据库类 </span>
<span class="sd"> * @param string        $name 操作的数据表名称（不含前缀） </span>
<span class="sd"> * @param array|string  $config 数据库配置参数 默认</span>
<span class="sd"> * @param bool          $force 是否强制重新连接 默认false</span>
<span class="sd"> * @return \think\db\Query </span>
<span class="sd"> */</span> 
</pre></div>

<!--block_code_end--><div class="codehilite code_lang_php  highlight"><pre><span></span>        <span class="c1">//Db::table(&#39;完整表名&#39;),注意表需要加表前缀</span>
        <span class="c1">//dump(Db::table(&#39;think_member&#39;)-&gt;select());//SELECT * FROM `think_member`</span>
        
        <span class="c1">//Db::name(&#39;表名&#39;),注意不需要加表前缀,它会从数据库配置文件中读取&#39;prefix&#39;项的值,自动生成表名,在前缀改变量它作用很大</span>
        <span class="c1">//dump(Db::name(&#39;member&#39;)-&gt;select());//SELECT * FROM `think_member`</span>
        
        <span class="c1">//db助手函数,它就是Db::name()的另一种写法,类似于3.X中的D()函数.在5.0中,不建议用db()助手函数,说它每次都连接务器,占资源.其实还有个助手函数model()也可以进行数据操作.我们在模型高级部分来讲解.</span>
        <span class="nx">dump</span><span class="p">(</span><span class="nx">db</span><span class="p">(</span><span class="s1">&#39;member&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">select</span><span class="p">());</span><span class="c1">//SELECT * FROM `think_member` </span>
</pre></div>

<!--block_code_end-->
<p class="md_block">
    <span class="md_line">//在创建了Member数据模型后,可以用如下方式.</span>
</p>

<div class="codehilite code_lang_php  highlight"><pre><span></span>        <span class="nv">$user</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Member</span><span class="p">();</span>
        <span class="nv">$data</span> <span class="o">=</span> <span class="nv">$user</span><span class="o">-&gt;</span><span class="na">select</span><span class="p">();</span><span class="c1">//SELECT * FROM `think_member`</span>
        <span class="k">foreach</span> <span class="p">(</span><span class="nv">$data</span> <span class="k">as</span> <span class="nv">$row</span><span class="p">){</span>
            <span class="nx">dump</span><span class="p">(</span><span class="nv">$row</span><span class="o">-&gt;</span><span class="na">toArray</span><span class="p">());</span>
        <span class="p">}</span>
</pre></div>

<!--block_code_end-->
<p class="md_block">
    <span class="md_line">对应的model()助手函数,与new Member();效果一样的.</span>
</p>

<div class="codehilite code_lang_php  highlight"><pre><span></span>        <span class="nx">dump</span><span class="p">(</span><span class="nx">model</span><span class="p">(</span><span class="s1">&#39;member&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">select</span><span class="p">());</span><span class="c1">//SELECT * FROM `think_member`</span>
        <span class="k">foreach</span> <span class="p">(</span><span class="nv">$data</span> <span class="k">as</span> <span class="nv">$row</span><span class="p">){</span>
            <span class="nx">dump</span><span class="p">(</span><span class="nv">$row</span><span class="o">-&gt;</span><span class="na">toArray</span><span class="p">());</span>
        <span class="p">}</span>
</pre></div>

<!--block_code_end--> </div>
                </div>
            </div>

        </div>

    </div>

</div>


<script type="text/javascript" src="../asset/gitbook/app.js"></script>

<script>require(["gitbook"], function (gitbook) {
    var config = {"fontSettings": {"theme": null, "family": "sans", "size": 2}};
    gitbook.start(config);
});

</script>





</body>

</html>