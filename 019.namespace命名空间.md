# 19.namespace命名空间
[TOC]



## 概述
命名空间将代码划分出不同的空间（区域），每个空间的常量、函数、类的名字互不影响， 这个有点类似我们常常提到的‘封装'的概念。
举例说明,就是同一个文件夹下不能有相同的文件名,但不同目录下就可以重名文件.

### 作用:解决三大冲突问题 
函数
类
常量(注意命名空间下常量用const申明)
> 只有三种类型受命名空间引响:类,常量,函数.

## 定义(创建)与访问
命名空间:namespace 自定义名字;或:namespace 空间\子空间\子空间;
(用文件与目录去理解命名空间)
语法
```php
namespace 空间名;  
//或带子空间
namespace 空间名\子空间名\...;  
```
> 注意:在namespace代码的上面不能用任何PHP代码或HTML内容输出(除了declare但废弃了此函数),而且<?php标签前空一行都报错

1. 在同一个文件中连续定义多个空间:以最后一个为准.覆盖式
2. 如果要在一个文件中定义多个,那么定义一个后...写好代码  到一定时候再定义一个空间也是可以的.
	-  一般不建义在一个文件中使用多个命名空间,如果要使用,建议使用大括号括起来;
	- 一个文件多个命名空间(不要在大括号外加任何代码除了declare),匿名(namespace{ echo 100;})命名空间,就是全局代码.
	
3. 访问可以用相对路径或绝对路径 绝对:\空间名\函数名(),也可以用多层目录;相对绝对路径
4. 在多个文件中同一个命名空间下不能重名,好处是同一个命名空间可以分布在多个文件上去写
```php
/*
 * 1.namespace必须写在文件的第一行(前面不能有任何PHP代码).
 * 2.namespace如果多个连着写多个.会覆盖.后面的覆盖前面的.如果不连着写,则都生效.
 *   但不建议一个文件中写两个命名空间,如果非得这么写,请使用大括号.
 * 3.命名空间:一个文件中可以有多个命名空间,如第2点.反过来,一个命空空间也可以写在多个文件中.(注意同一命空间写在多
          个文件中时也别有重复的标识符(变量,函数,类,常量...).原因是使用时可能会同时把多个文件include到一起用.)
 * 4.一个文中一旦使用了命名空间,就不能再写全局的(必须写在命空里面).
          如果想一起用,就再另写一文件,然后include导入带命名空间的文件.
 * 5.类,函数,常量会受引响,但要注意,命名空间下的常量请用const去申明,如果用define申明就是全局的.
 * 
 */
```

## 导入命名空间下类和给类起别名
导入: use 命名空间(导入空间下的类)
```php
//导入:
use \空间名\类名;
//如果是全局:
use \类名;
```

## 命名空间中的namespace关键字
关键字 namespace 可用来显式访问当前命名空间或子命名空间中的元素。它等价于类中的 self 操作符
```php
namespace hello\word;
function demo(){
	echo '11111111111111<br />';
}
demo();//1.当前命名空间下的函数可以直接用函数名使用.
\hello\world\demo();//2.第二种调用方式,用全路径,
namespace\demo();//3.用关键字取代命空空间名,访问方法或常量都行
```

## 补充:命名空间的魔术常量 __NAMESPACE__
在命名空间中使用它,可以得到命名空间的名字,如果是匿名(全局)命名空间,则得到空字符串.

## 命名空间和动态语言特征 
访问命名空间中的方法等如果用变量函数的方式访问,则要加命名空间限定,动态访问类也可以用此方法.
```php
namespace huodeming;
function demo(){
	echo 'huodeming';
}
$fun = '\huodemng\demo';//不加命名空间限定名称访问不到
$fun();
```



