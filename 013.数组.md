# 13.数组
[TOC]

## 数组的分类,申明与赋值
    在PHP中,数组有两种,以数字为下标的称索引数组,以字符串为下标的称关联数组.
### 索引数组
什么是索引数组
1. 下标要求全是数字,

申明与赋值
1. 赋值时可以指定下标为数字,也可以不指定下标赋值
2. 赋值的方式如下:
```php
    //申明一个变量,没有赋值
    $arr;
    
    //申明了一个变量,赋值为空数组,下面两种格式一样,只是写法不同.
    $arr = array();
    $arr = [];
    
    //申明时给数组赋值
    $arr = array(10,20,30,40,50);//不指定下标赋值
    $arr = array(0=>10, 1=>20, -3=>50, -2=>20);//指定下标赋值,下标可以是负数
   
     /*
     申明时不赋值,后练赋值,可以指定下标,也可以不指定下标自动生成,注意自动生成
     给数赋值不指定下标有两种情况:
         1.如果原数组是空数组:下标从0开始,每次自动+1
         2.如果原数组是非空数组,要看有没有大于0的键名.如果没有则从0开始,每次自动+1,如果原数组中有大于0的下标,则取最大值+1
     */
    $arr;
    $arr[] = 11;
    $arr[] = 22;
    $arr[20] = 33;
    $arr[] = 44;//此时它的下标是最大下标值+1,数组是[21]=>44
```

### 关联数组
下标为字符串的数组称关联数组
1. 申明与赋值格式
```php
//申明时赋值
$arr = array('a'=>'aaa', 'b'=>'bbb','c'=>'ccc');

//先申明,再赋值
$arr;
$arr['a'] = 'aaa';
$arr['z'] = 'zzz';
$arr['x'] = 'xxx';
```

### 数组申明与赋值注意事项
1. 注意:关联数组可以与索引数组混合在一起,当各种类型做为数组的下标时一定要注意,他会自动转换.
2. 数组的下标名唯一,如果一个数组中有两个下标名相同的,后面值的会覆盖前面的值.
```php
	//各种类型的值当数组下标时,会进行转换
	/*
	 * 字符串:	整数字符串会转成整数...非整数字符串保留原样
	 * 整数:		保留原样,
	 * 小数:		去掉小数部分.(向下取整)
	 * 布尔型:	true转1,false转0
	 * null: 	空字符串
	 * =========================
	 * 在一个数组中,下标是唯一的,如果存在下标相同,后面的覆盖前面的值.
	 */
	 	$a = [
	'十班'=>'aaaa'//----
	,''=>'空'
	,'0'=>'0000'
	,'1'=>'1111'
	,'0.0'=>'0.0'//----
	,'1.1'=>'1.1'//----
	,'true'=>'str-true'
	,1.5=>'1.5'
	,8.0001 =>'8.8'
	,true=>'true'
	,false=>'false'
	,null=>'null'
	];
	print_r($a);
```

### 快速创建数组
```php
//快速生成连续下标的索引数组,下标都是从0开始,包含最小与最大值,
$arr = range(最小值, 最大值, [步长]);
$arr = range(0, 10);//array[0,1,2,3,4,5,6,7,8,9,10]
$arr = range(100,105);//array(100,101,102,103,104,105)
$arr = range(0,10,3);//array(0,3,6,9)//指定步长

//快速把多个变量转换成关联数组
	$a = 'aa';
	$b = 'bb';
	$c = 'cc';
	$d = 'abcd';
	$arr = compact('a','b','c','d');//要注意,传的参数是变量名的字符串.不包含$
	print_r($arr);//Array ( [a] => aa [b] => bb [c] => cc [d] => abcd )
```


##数组与比较运算符
```php
//+进行两个数组运算时,把右边的元素附加到左边的数组后面,如果键名[下标]重复,则保留左边数组中的元素,右边的丢弃.
$a = [1,2,3];
$b = [4,5,6];
$c = $a + $b;//$c = [1,2,3]

$a = [1,2,3,4];
$b = [5=>5];
$c = $a + $b;//$c = Array ( [0] => 1 [1] => 2 [2] => 3 [3] => 4 [5] => 5 )

//==   值与顺序相同时为true, 不管类型
$a = [1,3,2];
$b = [1,2,3];
echo $a == $b//false

$a = ['1' , '2' , '3'];
$b = [1 , 2 , 3];
echo $a == $b//true

$a = ["" , true , '3x'];
$b = [null , 2 , 3];
echo $a == $b//true

//===  值与顺序相同时为true, 同时类型也要相同
$a = ["" , true , '3x'];
$b = [null , 2 , 3];
echo $a === $b// false
```

## 数组遍历

### for,与while循环遍历
```php
//它有个缺点,基本不合适PHP的数组遍历,因为它只能遍历连续下标的索引数组.
$arr = range(0,10);
$i = 0;
while($i  < count($arr)){
    echo $arr[$i];
    $i++;
}
//============================
for($i = 0 ; $i < count($arr) ; $i++){
    echo $arr[$i];    
}
```

### foreach循环遍历(增加for循环)
```php
$arr = [10,20,30,'aa'=>'aaa'];
//遍历数组,只要值===========
foreach($arr as $v){
    echo $v;
}
//遍历数组,要下标也要值===========
foreach($arr as $k=>$v){
    echo $k.'=>'.$v;
}
```

### 数组指针结合循环遍历数组
```php
$arr = [10,20,30,'aa'=>'aaa'];
current($arr);//得到当前指针处元素的值
key($arr);//得到当前指针处的元素的键名(下标)
next($arr);//1.把指针下移一位,2.并得到当前元素的值
prev($arr);//1.把指针上移一位,2.并得到当前元素的值
end($arr);//1.移到末尾,2.得到当前元素的值
reset($arr);//1.重置指针到初始状态.就是指向第一个元素位置,2.得到当前元素的值

//用普通for循环结合数组指针遍历数组==============
$arr = [10,20,30,'aa'=>'aaa'];
for($i = 0 ; $i < count($arr)  ; $i++){
    echo key($arr) . '=>' . current($arr);
    next($arr);
}
```

### list 结合 each遍历数组
```php
//list做什么用的? list()小括号中有多个变量名,这几个变量名依次取它赋值的变量的从0开始的下标的值.
list($a,$b,$c...) = array(1,5,3,6,7,4);
echo $a;//1,对应数组下标0的元素的值
echo $b;//5,对应数组下标1的元素的值
echo $c;//3,对应数组下标2的元素的值

//each做什么用的?它也是一个指针函数,1.把数组当前指针处的元素的键与值获取到转换成一个数组(这个数组的结构是$arr = [10,20,30],第一次用each($arr); ['key'=>0,'value'=>10,0=>0,1=>10]),2.把指针下移一位.如果移到最后移不动了,就返回false.
list($a,$b,$c...) = array(1,5,3,6,7,4);
while(list($k,$v) = each($arr)){
    echo $k.'=>'.$v;
}
```

## 多维数组
//了解,多维数组就是一个数组的元素也是个数组.
```php
$arr = array(10,20,30);//一维数组
$arr1 = ['aa'=>'aaa','b'=>'bbbb'];//一维数组
$arr = [10,[21,22],30];//多维数组
$arr1 = ['aa'=>'aaa','b'=>['bb1','bbb2']];//一维数组
//调用,如果我们要取$arr1中的'bbb2'这个值,怎么取?
echo $arr1['b'][1];//bbb2




```
